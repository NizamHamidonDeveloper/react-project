{"version":3,"sources":["views/authentication/Login.js"],"names":["Copyright","variant","color","align","href","Date","getFullYear","withStyles","theme","root","display","justifyContent","padding","form","width","marginTop","spacing","submit","margin","paper","flexDirection","alignItems","props","classes","React","useState","email","setEmail","password","setPassword","isChecked","setIsChecked","loading","setLoading","isEmail","setIsEmail","isPassword","setIsPassword","errorMsg","setErrorMsg","errorMsgEnaled","setErrorMsgEnaled","useEffect","localStorage","checkbox","username","handleSignIn","event","a","preventDefault","password_result","length","app","auth","signInWithEmailAndPassword","message","container","component","className","item","Paper","elevation","style","boxShadow","height","backgroundColor","borderTopLeftRadius","borderTopRightRadius","marginLeft","fontWeight","src","alt","position","borderRadius","fontSize","marginBottom","disableShrink","onSubmit","textAlign","error","required","fullWidth","id","name","size","value","onChange","target","type","control","checked","label","textTransform","disableElevation"],"mappings":"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","file":"static/js/10.bf66983d.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport Button from '@material-ui/core/Button';\r\nimport PropTypes from 'prop-types';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n//import EmailValidator from 'email-validator';\r\nimport app from \"../../firebase/base\";\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright Â© '}\r\n      <Link color=\"inherit\" href=\"https://pgkdigital.com/\">\r\n      PGK Digital Networks\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display:\"flex\",\r\n    justifyContent: \"center\",\r\n    padding: 20\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 3),\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(4, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  }\r\n});\r\n\r\nfunction SignIn(props) {\r\n\r\n  const classes = props.classes;\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n  const [isChecked, setIsChecked] = React.useState(\"\");\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const [isEmail, setIsEmail] = React.useState(true);\r\n  const [isPassword, setIsPassword] = React.useState(true);\r\n  const [errorMsg, setErrorMsg] = React.useState(\"Please try logging again\");\r\n  const [errorMsgEnaled, setErrorMsgEnaled] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n\r\n    if (localStorage.checkbox && localStorage.username !== \"\") {         \r\n      setIsChecked(true)\r\n      setPassword(localStorage.password)\r\n      setEmail(localStorage.username)\r\n      setLoading(false)\r\n    }\r\n    else\r\n    {\r\n      setLoading(false)\r\n    }\r\n\r\n  }, []);\r\n\r\n  const handleSignIn = async (event) => {\r\n\r\n    event.preventDefault();\r\n\r\n    setErrorMsg(\"Please try logging again\")\r\n    setErrorMsgEnaled(false)\r\n    const email_result = true;\r\n    var password_result = false;\r\n\r\n    if(password.length > 6)\r\n    {\r\n      password_result = true;\r\n      setIsPassword(true)\r\n    }\r\n    else\r\n    {\r\n      setIsPassword(false)\r\n    }\r\n\r\n    if(email_result)\r\n    {\r\n      setIsEmail(true)\r\n    }\r\n    else\r\n    {\r\n      setIsEmail(false)\r\n    }\r\n    \r\n    if (isChecked && password_result === true && email_result === true) {\r\n      localStorage.username = email\r\n      localStorage.password = password\r\n      localStorage.checkbox = isChecked\r\n    }\r\n    else\r\n    {\r\n      localStorage.username = \"\"\r\n      localStorage.password = \"\"\r\n      localStorage.checkbox = false\r\n    }\r\n\r\n    if(email_result === true && password_result === true){\r\n      \r\n      setLoading(true)\r\n\r\n      try {\r\n        await app\r\n          .auth()\r\n          .signInWithEmailAndPassword(email, password);\r\n          \r\n      } catch (error) {\r\n        \r\n        setErrorMsg(error.message)\r\n        setErrorMsgEnaled(true);\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  const onChangeCheckbox = (event) => {\r\n    setIsChecked(event.target.checked)\r\n  }\r\n\r\n  const passwordhandleChange = (event) => {\r\n    setPassword(event.target.value)\r\n  }\r\n\r\n  const handleEmailChange = (event) => {\r\n    setEmail(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <Grid item component={Paper} elevation={0} style={{ width: 400, marginTop: 50, boxShadow: \"0px 0px 20px 0px #e8e8e8\" }}>\r\n        <Grid style={{ display: 'flex', justifyContent: \"space-between\", height: 120, backgroundColor: \"#d4dbf9\", borderTopLeftRadius: 5, borderTopRightRadius: 5 }}>\r\n          \r\n          <Grid>\r\n            <Typography color=\"primary\" variant='body1' style={{  marginLeft: 30, marginTop: 20, fontWeight: \"bold\"}}>\r\n              Welcome back!\r\n            </Typography>\r\n            <Typography color=\"primary\" variant='body2' style={{  marginLeft: 30 }}>\r\n              Sign in to continue\r\n            </Typography>\r\n          </Grid>\r\n          \r\n          <img height=\"100%\" src=\"assets/login/profile-img.png\" alt=\"top-login-bg\" />\r\n        </Grid>\r\n        <Grid style={{ display: 'flex', justifyContent: \"center\", alignItems: 'center', position: \"absolute\", backgroundColor: \"#eff2f7\", width: 80, height: 80, marginLeft: 30, marginTop: -40, borderRadius: 50 }}>\r\n          <LockIcon fontSize=\"large\"/>\r\n        </Grid>\r\n        <div className={classes.paper}>\r\n          \r\n          {loading ? \r\n          \r\n          <div style={{ display: 'flex',  justifyContent:'center', alignItems:'center', marginTop: 70, marginBottom: 70  }}>\r\n              <CircularProgress \r\n                disableShrink\r\n                color=\"primary\" />\r\n          </div>\r\n          \r\n          : \r\n          \r\n          <form className={classes.form} onSubmit={handleSignIn}>\r\n              {errorMsgEnaled ? <Grid style={{ marginTop: 15, display: 'flex', justifyContent: 'center', alignItems: \"center\"}} >\r\n                <Typography style={{ textAlign: \"center\"}} align=\"center\" color=\"error\" variant='body2'>\r\n                  {errorMsg}\r\n                </Typography> \r\n              </Grid>:null}\r\n               \r\n              <Typography variant='body2' style={{ marginTop: 20}}>\r\n                Email\r\n              </Typography>\r\n              <TextField\r\n                error={isEmail? false: true}\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                name=\"email\"\r\n                size=\"small\"\r\n                style={{ marginTop: 5}}\r\n                value={email}\r\n                onChange={handleEmailChange}\r\n              />\r\n              <Typography variant='body2' style={{ marginTop: 10 }}>\r\n                Password\r\n              </Typography>\r\n              <TextField\r\n                error={isPassword? false: true}\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                size=\"small\"\r\n                style={{ marginTop: 5}}\r\n                value={password}\r\n                onChange={passwordhandleChange}\r\n              />\r\n              <FormControlLabel\r\n                control={<Checkbox checked={isChecked} value=\"remember\" color=\"primary\"  onChange={onChangeCheckbox}/>}\r\n                label={<Typography variant=\"body2\">Remember me</Typography>}\r\n              />\r\n            \r\n              <Button\r\n                style={{textTransform: 'none'}}\r\n                fullWidth\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                className={classes.submit}\r\n                disableElevation\r\n                type=\"submit\"\r\n              >\r\n              Log In\r\n              </Button>\r\n              <Grid>\r\n                  <Typography color=\"primary\"  variant=\"caption\">\r\n                    <Link color=\"inherit\" href='/forgotpassword'>Forgot Password</Link>\r\n                  </Typography>\r\n              </Grid>\r\n\r\n              <Grid style={{ display: 'flex', justifyContent: \"center\", marginTop: 20 }}>\r\n              <img height=\"25\" src=\"assets/logo/PGK-Logo-black.png\" alt=\"PGK logo\"/>\r\n              </Grid>\r\n              \r\n              \r\n              <Grid style={{ display: 'flex', justifyContent: \"center\", marginTop: 20 }}>\r\n                <Copyright />\r\n              </Grid>\r\n          </form>}\r\n        </div>\r\n      </Grid>\r\n    </Grid>);\r\n}\r\n\r\nSignIn.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SignIn);"],"sourceRoot":""}