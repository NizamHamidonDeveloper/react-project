(this["webpackJsonpsmrt-cms"]=this["webpackJsonpsmrt-cms"]||[]).push([[2],{226:function(e,t,a){"use strict";a.d(t,"a",(function(){return Le}));var n=a(48),i=a(23),l=a(35),r=a(1),d=a.n(r),c=a(207),o=a(723),s=a(721),u=a(720),b=a(722),j=a(724),m=a(744),f=a(719),h=a(205),p=a(692),g=a(46),x=a(203),O=a(714),y=a(738),v=a(658),S=a.n(v),w=a(450),C=a(712),D=a(356),P=a(739),I=a(190),T=a(337),k=a(375),_=a.n(k),F=a(374),M=a.n(F),z=a(737),E=a(725),A=a(380),B=a.n(A),N=a(381),R=a.n(N),L=a(20),U=a(202),V=a(740),W=a(8),H=a(168),G=a(382),Y=a.n(G),Z=a(304),q=a.n(Z),J=a(528),K=a.n(J),Q=a(4),X=Object(c.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(L.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}));function $(e){var t=X(),a=e.numSelected,i=e.onClickDeleteAll,l=e.addItemText,r=e.addItemIcon,d=e.addItemButton,c=e.onClickAddItem,o=e.onClickMoveAll,s=e.type,u=e.downloadExcel,b=e.onClickDownloadExcel;return Object(Q.jsxs)(U.a,{className:Object(W.default)(t.root,Object(n.a)({},t.highlight,a>0)),children:[a>0?Object(Q.jsxs)(g.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[a," selected"]}):Object(Q.jsx)(g.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"}),!0===e.selectStation&&!0!==e.listOnly?Object(Q.jsx)(H.a,{onClick:function(){return e.handleSetStation(e.selected)},variant:"outlined",color:"inherit",style:{whiteSpace:"nowrap",marginRight:10},children:"Confirm"}):null,a>0&&e.control?Object(Q.jsxs)(x.a,{style:{paddingRight:10,display:"flex",flexDirection:"row"},children:["folder"===s||!0===e.selectContent?null:Object(Q.jsx)(V.a,{title:"Move",style:{paddingRight:10},children:Object(Q.jsx)(h.a,{style:{display:e.disabledMove?"none":"flex"},"aria-label":"move",onClick:o,children:Object(Q.jsx)(Y.a,{})})}),!0===e.selectContent?Object(Q.jsx)(H.a,{onClick:e.handleSetRows,startIcon:r,variant:"outlined",color:"inherit",style:{whiteSpace:"nowrap",marginRight:10},children:"Confirm"}):Object(Q.jsx)(V.a,{title:"Delete",children:Object(Q.jsx)(h.a,{style:{display:e.disabledDelete?"none":"flex"},"aria-label":"delete",onClick:i,children:Object(Q.jsx)(q.a,{})})})]}):Object(Q.jsxs)(x.a,{style:{display:"flex",flexDirection:"row",paddingRight:10},children:[d?Object(Q.jsx)(V.a,{title:l,children:Object(Q.jsx)(H.a,{onClick:c,startIcon:r,disableElevation:!0,variant:"contained",color:"primary",style:{whiteSpace:"nowrap",marginRight:10},children:l})}):null,u?Object(Q.jsx)(H.a,{onClick:b,startIcon:Object(Q.jsx)(K.a,{}),disableElevation:!0,variant:"contained",color:"primary",style:{whiteSpace:"nowrap"},children:"Export Excel"}):null]})]})}var ee=a(718),te=a(745);function ae(e){var t=e.classes,a=e.onSelectAllClick,n=e.order,i=e.orderBy,l=e.numSelected,r=e.rowCount,d=e.onRequestSort,c=e.headCells,o=e.control,s=e.collapse;return Object(Q.jsx)(ee.a,{children:Object(Q.jsxs)(f.a,{children:[Object(Q.jsx)(u.a,{padding:"checkbox",children:Object(Q.jsx)(p.a,{style:{display:e.listOnly?"none":"normal"},indeterminate:l>0&&l<r,checked:r>0&&l===r,onChange:a,inputProps:{"aria-label":"select all"}})}),c?c.map((function(e){return Object(Q.jsx)(u.a,{style:{padding:3},align:"left",padding:e.disablePadding?"none":"default",sortDirection:i===e.id&&n,children:Object(Q.jsxs)(te.a,{active:i===e.id,direction:i===e.id?n:"asc",onClick:(a=e.id,function(e){d(e,a)}),children:[e.label,i===e.id?Object(Q.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var a})):null,o||s?Object(Q.jsx)(u.a,{"aria-hidden":!0,style:{padding:3},padding:"none",align:"right"}):void 0]})})}var ne=a(357),ie=a(529),le=a.n(ie),re=a(530),de=a.n(re),ce=a(378),oe=a.n(ce),se=a(534),ue=a.n(se),be=a(533),je=a.n(be),me=a(532),fe=a.n(me),he=a(531),pe=a.n(he),ge=a(103),xe=a.n(ge);function Oe(e){return Object(Q.jsxs)(x.a,{children:["content"===e.data?Object(Q.jsx)(V.a,{title:"Preview",children:Object(Q.jsx)(h.a,{component:"div",color:"primary",onClick:function(){return e.onClickPreview(e.row)},children:Object(Q.jsx)(oe.a,{fontSize:"small"})})}):null,"folder"===e.type?Object(Q.jsx)(V.a,{title:"Enter Folder",children:Object(Q.jsx)(h.a,{component:"div",color:"primary",onClick:function(){return e.onClickOpenFolder(e.row)},children:Object(Q.jsx)(le.a,{fontSize:"small"})})}):null,"station"===e.data?Object(Q.jsx)(V.a,{title:"Refresh",children:Object(Q.jsx)(h.a,{component:"div",color:"primary",onClick:function(){return e.onClickRefresh(e.row)},children:Object(Q.jsx)(de.a,{fontSize:"small"})})}):null,"station"===e.data?Object(Q.jsx)(V.a,{title:"Update",children:Object(Q.jsx)(h.a,{component:"div",color:"inherit",style:{opacity:.5},onClick:function(){return e.onClickUpdate(e.row)},children:Object(Q.jsx)(pe.a,{fontSize:"small"})})}):null,"station"===e.data?Object(Q.jsx)(V.a,{title:"Restart",children:Object(Q.jsx)(h.a,{component:"div",color:"inherit",style:{opacity:.5},onClick:function(){return e.onClickRestart(e.row)},children:Object(Q.jsx)(fe.a,{fontSize:"small"})})}):null,"campaign"===e.data||"advertisement"===e.data?Object(Q.jsx)(V.a,{title:"Publish",children:Object(Q.jsx)(h.a,{component:"div",color:e.row.publish?"primary":"inherit",style:{opacity:e.row.publish?1:.5},onClick:function(){return e.onClickPublish(e.row)},children:Object(Q.jsx)(de.a,{fontSize:"small"})})}):null,"campaign"===e.data||"advertisement"===e.data||"station"===e.data?Object(Q.jsx)(V.a,{title:"Preview",children:Object(Q.jsx)(h.a,{style:{opacity:.5},color:"inherit",component:"div",onClick:function(){return e.onClickPreviewCampaign(e.row)},children:Object(Q.jsx)(oe.a,{fontSize:"small"})})}):null,"campaign"===e.data||"advertisement"===e.data?Object(Q.jsx)(V.a,{title:"Station",children:Object(Q.jsx)(h.a,{component:"div",color:"inherit",style:{opacity:.5},onClick:function(){return e.onClickListStation(e.row)},children:Object(Q.jsx)(xe.a,{fontSize:"small"})})}):null,Object(Q.jsx)(V.a,{title:"Info",children:Object(Q.jsx)(h.a,{component:"div",style:{opacity:.5},color:"inherit",onClick:function(){return e.onClickInfo(e.row)},children:Object(Q.jsx)(je.a,{fontSize:"small"})})}),"folder"===e.type?null:Object(Q.jsx)(V.a,{title:"Move",children:Object(Q.jsx)(h.a,{component:"div",style:{display:e.disabledMove?"none":"normal",opacity:.5},color:"inherit",onClick:function(){return e.onClickMove(e.row)},children:Object(Q.jsx)(Y.a,{fontSize:"small"})})}),Object(Q.jsx)(V.a,{title:"Edit",children:Object(Q.jsx)(h.a,{disabled:e.disabledEdit,component:"div",style:{opacity:.5},color:"inherit",onClick:function(){return e.onClickEdit(e.row)},children:Object(Q.jsx)(ue.a,{fontSize:"small"})})}),Object(Q.jsx)(V.a,{title:"Delete",children:Object(Q.jsx)(h.a,{disabled:e.disabledDelete,component:"div",style:{opacity:.5},color:"inherit",onClick:function(){return e.onClickDelete(e.row)},children:Object(Q.jsx)(q.a,{fontSize:"small"})})})]})}var ye=a(36),ve=a(305),Se=a.n(ve),we=a(306),Ce=a.n(we),De=a(659),Pe=a.n(De),Ie=a(372),Te=a(535),ke=a.n(Te),_e=a(734),Fe=a(379),Me=a.n(Fe),ze=ke.a.ExcelFile,Ee=ke.a.ExcelFile.ExcelSheet;function Ae(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function Be(e,t){return"desc"===e?function(e,a){return Ae(e,a,t)}:function(e,a){return-Ae(e,a,t)}}function Ne(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}var Re=Object(c.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:"100%"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Le(e){var t=Re(),a=d.a.useState(!1),c=Object(l.a)(a,2),v=c[0],k=c[1],F=d.a.useState(!1),A=Object(l.a)(F,2),N=A[0],L=A[1],U=d.a.useState(0),W=Object(l.a)(U,2),G=W[0],Y=W[1],Z=d.a.useState(10),q=Object(l.a)(Z,2),J=q[0],K=q[1],X=d.a.useState([]),ee=Object(l.a)(X,2),te=ee[0],ie=ee[1],le=d.a.useState(null),re=Object(l.a)(le,2),de=re[0],ce=re[1],oe=d.a.useState(null),se=Object(l.a)(oe,2),ue=se[0],be=se[1],je=d.a.useState("desc"),me=Object(l.a)(je,2),fe=me[0],he=me[1],pe=d.a.useState(e.orderBy),ge=Object(l.a)(pe,2),xe=ge[0],ve=ge[1],we=d.a.useState([]),De=Object(l.a)(we,2),Te=De[0],ke=De[1],Fe=d.a.useState([]),Ae=Object(l.a)(Fe,2),Le=Ae[0],Ue=Ae[1],Ve=d.a.useState([]),We=Object(l.a)(Ve,2),He=We[0],Ge=We[1],Ye=d.a.useState([]),Ze=Object(l.a)(Ye,2),qe=Ze[0],Je=Ze[1],Ke=d.a.useState(""),Qe=Object(l.a)(Ke,2),Xe=Qe[0],$e=Qe[1],et=d.a.useState(""),tt=Object(l.a)(et,2),at=tt[0],nt=tt[1],it=d.a.useState([]),lt=Object(l.a)(it,2),rt=lt[0],dt=lt[1],ct=d.a.useState(!0),ot=Object(l.a)(ct,2),st=ot[0],ut=ot[1],bt=d.a.useState(!1),jt=Object(l.a)(bt,2),mt=jt[0],ft=jt[1],ht=d.a.useState(!1),pt=Object(l.a)(ht,2),gt=pt[0],xt=pt[1],Ot=d.a.useState(!1),yt=Object(l.a)(Ot,2),vt=yt[0],St=yt[1],wt=d.a.useState(""),Ct=Object(l.a)(wt,2),Dt=Ct[0],Pt=Ct[1],It=d.a.useState(""),Tt=Object(l.a)(It,2),kt=Tt[0],_t=Tt[1],Ft=d.a.useState(!1),Mt=Object(l.a)(Ft,2),zt=Mt[0],Et=Mt[1],At=d.a.useState(null),Bt=Object(l.a)(At,2),Nt=Bt[0],Rt=Bt[1],Lt=d.a.useState(""),Ut=Object(l.a)(Lt,2),Vt=Ut[0],Wt=Ut[1],Ht=d.a.useState(null),Gt=Object(l.a)(Ht,2),Yt=Gt[0],Zt=Gt[1],qt=d.a.useState([]),Jt=Object(l.a)(qt,2),Kt=Jt[0],Qt=Jt[1],Xt=d.a.useState([]),$t=Object(l.a)(Xt,2),ea=$t[0],ta=$t[1],aa=d.a.useState([]),na=Object(l.a)(aa,2),ia=na[0],la=na[1],ra=d.a.useState([]),da=Object(l.a)(ra,2),ca=da[0],oa=da[1],sa=d.a.useState([]),ua=Object(l.a)(sa,2),ba=ua[0],ja=ua[1],ma=d.a.useRef(null);Object(r.useEffect)((function(){var t=ye.a.database().ref(e.data);return t.on("value",(function(t){if(t.exists()){var a=[];if(e.folder?t.forEach((function(t){var n=t.val();n.folder&&n.folder===e.folder&&a.push(n)})):t.forEach((function(t){var n=t.val();n.folder||"station"===e.data?"station"===e.data&&a.push(n):a.push(n)})),e.listOnly)if(e.ads){var n=[];t.forEach((function(t){var a=t.val();a.advertisement===e.selectedItem.id&&n.push(a)})),e.listOnly?a=n:ie(n)}else{var i=[];t.forEach((function(t){var a=t.val();a.campaign===e.selectedItem.id&&i.push(a)})),e.listOnly?a=i:ie(i)}if("campaign"===e.data)ye.a.database().ref("station").once("value",(function(e){if(e.exists()){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),oa(t)}}));if("station"===e.data||"content"===e.data||"advertisement"===e.data)ye.a.database().ref("campaign").once("value",(function(e){if(e.exists()){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),Qt(t)}})),ye.a.database().ref("advertisement").once("value",(function(e){if(e.exists()){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),ta(t)}}));if(ye.a.database().ref(e.folder_data).once("value",(function(e){if(e.exists()){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),la(t)}})),e.child)ye.a.database().ref(e.child).once("value",(function(e){if(e.exists()){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),Ue(t),ke(a),Ge(a),ut(!1)}else Ue([]),ke(a),Ge(a),ut(!1)}));else ke(a),Ge(a),ut(!1)}else Ue([]),ke([]),Ge([]),ut(!1)})),Je(e.headCells?e.headCells:[]),dt(e.searchCell?e.searchCell:[]),$e(e.searchValue?e.searchValue:""),be(e.addCellsName?e.addCellsName:[]),function(){t.off()}}),[e]);var fa=function(e){k(!1)},ha=function(e){xt(!1),ce(e),Et(!0),Pt("Delete"),Wt("delete"),_t("Are you sure you want to delete this item?"),St(!1),ft(!0)},pa=function(t){xt(!1),ce(t),"campaign"===e.data||"advertisement"===e.data?Et(!1):Et(!0),Pt("Edit"),Wt("edit"),_t(""),"campaign"===e.data||"advertisement"===e.data?St(!0):St(!1),ft(!0)},ga=function(e){xt(!1),ce(e),Et(!1),Pt("Info"),Wt("info"),_t(""),St(!1),ft(!0)},xa=function(e){xt(!1),ce(e),Et(!1),Pt("Preview"),Wt("preview"),_t(""),St(!1),ft(!0)},Oa=function(t){xt(!0),ye.a.database().ref(e.folder_data).once("value",(function(e){if(e.exists()){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),Zt(t),xt(!1)}})),Et(!1),ce(t),Pt("Move"),Wt("move"),_t("Are you sure you want to move this item?"),St(!1),ft(!0)},ya=function(t){if("station"===e.data){if(t.campaign){var a=Kt.map((function(e){return e.id})).indexOf(t.campaign);if(-1!==a){var n={content:Kt[a].content};xt(!1),ce(n),Et(!1),Pt("Preview"),Wt("playPreview"),_t(""),St(!1),ft(!0)}}}else xt(!1),ce(t),Et(!1),Pt("Preview"),Wt("playPreview"),_t(""),St(!1),ft(!0)},va=function(e){xt(!1),ce(e),Et(!0),Pt("Publish"),Wt("publish"),_t("Are you sure you want to publish this campaign?"),St(!1),ft(!0)},Sa=function(e){xt(!1),ce(e),Et(!1),Pt(e.name),Wt("openFolder"),_t(""),St(!0),ft(!0)},wa=function(t){ye.a.database().ref(e.data+"/"+t.id).update({refreshed:ye.a.database.ServerValue.TIMESTAMP}),ye.a.database().ref(e.data+"/"+t.id).update({push:!0,message:"push"})},Ca=function(t){ye.a.database().ref(e.data+"/"+t.id).update({refreshed:ye.a.database.ServerValue.TIMESTAMP}),ye.a.database().ref(e.data+"/"+t.id).update({push:!0,message:"update"})},Da=function(t){ye.a.database().ref(e.data+"/"+t.id).update({refreshed:ye.a.database.ServerValue.TIMESTAMP}),ye.a.database().ref(e.data+"/"+t.id).update({push:!0,message:"restart"})},Pa=function(e){xt(!1),ce(e),Et(!1),Pt(e.name),Wt("openFolder"),_t(""),St(!0),ft(!0)},Ia=function(e){if(0===e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]},Ta=function(e,t,a,n){if(e&&t&&a&&n){var i=new Date(new Date(e).getFullYear(),new Date(e).getMonth(),new Date(e).getDate()),l=new Date(new Date(t).getFullYear(),new Date(t).getMonth(),new Date(t).getDate()),r=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),d=new Date,c=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),new Date(a).getHours(),new Date(a).getMinutes()),o=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),new Date(n).getHours(),new Date(n).getMinutes());return i<=r&&l>=r&&new Date(c).getHours()===new Date(o).getHours()&&new Date(a).getMinutes()===new Date(n).getMinutes()||i<=r&&l>=r&&d>=c&&d<=o}return!0},ka=function(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+(1===t?" hour, ":" hours, "):"")+(a>0?a+(1===a?" min, ":" mins, "):"")+(n>0?n+(1===n?" sec":" secs"):"")},_a=function(t,a){return a.length>0||(t.length>0||e.disabledDelete)};if(st)return Object(Q.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:70},children:Object(Q.jsx)(I.a,{disableShrink:!0,color:"primary"})});var Fa=new Date,Ma=Fa.getDate()+"-"+(Fa.getMonth()+1)+"-"+Fa.getFullYear()+"-"+Fa.getHours()+"-"+Fa.getMinutes()+"-"+Fa.getSeconds();return Object(Q.jsxs)(x.a,{children:[Object(Q.jsx)(ze,{element:Object(Q.jsx)(H.a,{style:{display:"none"},ref:ma,children:"download"}),filename:e.data+"_"+Ma,children:Object(Q.jsx)(Ee,{dataSet:ba,name:e.data})}),Object(Q.jsx)(_e.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:v,autoHideDuration:5e3,onClose:fa,message:N,action:Object(Q.jsx)(d.a.Fragment,{children:Object(Q.jsx)(h.a,{size:"small","aria-label":"close",color:"inherit",onClick:fa,children:Object(Q.jsx)(Me.a,{fontSize:"small"})})})}),Object(Q.jsx)(T.a,{agreeTxt:"Yes",disagreeTxt:"No",description:kt,title:Dt,open:mt,agreeButton:zt,selectedItem:de,addItem:ue,displayInfo:e.displayInfo,matches:e.matches,onChangeHandle:function(e,t){return function(e,t){ce(Object(i.a)(Object(i.a)({},de),{},Object(n.a)({},t,e.target.value)))}(e,t)},onChangeAddItemHandle:function(e,t){return function(e,t){be(Object(i.a)(Object(i.a)({},ue),{},Object(n.a)({},t,e.target.value)))}(e,t)},editCells:e.editCells,addCells:e.addCells,addItemTitle:e.addItemText,handleAgree:function(){if("deleteAll"===Vt)te.forEach((function(t,a){ye.a.database().ref(e.data+"/"+t.id).remove().then((function(){"content"===e.data&&ye.a.storage().ref().child(t.full_path).delete().catch((function(e){}))})),t.folder&&ye.a.database().ref(e.folder_data+"/"+t.folder).update({updated:ye.a.database.ServerValue.TIMESTAMP}),ye.a.database().ref("log_"+e.data).push({user:ye.a.auth().currentUser.email,item:t,status:"deleted",updated:ye.a.database.ServerValue.TIMESTAMP})}));else if("delete"===Vt)ye.a.database().ref(e.data+"/"+de.id).remove().then((function(){"content"===e.data&&ye.a.storage().ref().child(de.full_path).delete().catch((function(e){})),de.folder&&ye.a.database().ref(e.folder_data+"/"+de.folder).update({updated:ye.a.database.ServerValue.TIMESTAMP}),ye.a.database().ref("log_"+e.data).push({user:ye.a.auth().currentUser.email,item:de,status:"deleted",updated:ye.a.database.ServerValue.TIMESTAMP})}));else if("edit"===Vt)ye.a.database().ref(e.data+"/"+de.id).update(de),ye.a.database().ref("log_"+e.data).push({user:ye.a.auth().currentUser.email,item:de,status:"edited",updated:ye.a.database.ServerValue.TIMESTAMP});else if("addItem"===Vt){var t=ye.a.database().ref().child(e.data).push().key;if(ue.created=ye.a.database.ServerValue.TIMESTAMP,ue.id=t,ue.user=ye.a.auth().currentUser.email,e.folder&&(ue.folder=e.folder,ye.a.database().ref(e.folder_data+"/"+e.folder).update({updated:ye.a.database.ServerValue.TIMESTAMP})),"user"===e.data)ye.a.auth().createUserWithEmailAndPassword(ue.email,ue.password).then((function(t){var a=t.user;ue.id=a.uid;var n={};n[e.data+"/"+a.uid]=ue,ye.a.database().ref().update(n),be(e.addCellsName?e.addCellsName:[]),ye.a.database().ref("log_"+e.data).push({user:ye.a.auth().currentUser.email,item:ue,status:"added",updated:ye.a.database.ServerValue.TIMESTAMP})})).catch((function(e){var t=e.message;L(t),k(!0)}));else{var a={};a[e.data+"/"+t]=ue,ye.a.database().ref().update(a),be(e.addCellsName?e.addCellsName:[]),ye.a.database().ref("log_"+e.data).push({user:ye.a.auth().currentUser.email,item:ue,status:"added",updated:ye.a.database.ServerValue.TIMESTAMP})}}else if("publish"===Vt)ye.a.database().ref(e.data+"/"+de.id).update({publish:!0}),"campaign"===e.data&&ca.forEach((function(e){e.campaign===de.id&&ye.a.database().ref("station/"+e.id).update({push:!0,message:"push",refreshed:ye.a.database.ServerValue.TIMESTAMP})})),ye.a.database().ref("log_"+e.data).push({user:ye.a.auth().currentUser.email,item:de,status:"published",updated:ye.a.database.ServerValue.TIMESTAMP});else if("downloadExcel"===Vt&&e.excelList){var n={columns:[],data:[[]]};e.excelList.forEach((function(e){"id"===e.id||"name"===e.id||"type"===e.id||"zone"===e.id||"address"===e.id||"created"===e.id||"refreshed"===e.id||"block"===e.id||"note"===e.id?n.columns.push({title:"",width:{wpx:170}}):n.columns.push({title:"",width:{wpx:12*e.label.length}}),n.data[0].push({value:e.label,style:{alignment:{horizontal:"center"},font:{sz:"11",bold:!0},border:{top:{style:"thin",color:{rgb:"FF000000"}},bottom:{style:"thin",color:{rgb:"FF000000"}},left:{style:"thin",color:{rgb:"FF000000"}},right:{style:"thin",color:{rgb:"FF000000"}}},fill:{patternType:"solid",fgColor:{rgb:"FFffd200"}}}})})),Te.forEach((function(t){var a=[];e.excelList.forEach((function(e){if("campaign"===e.id){var n="";if(t[e.id])-1!==(i=Kt.map((function(e){return e.id})).indexOf(t[e.id]))&&(n=Kt[i].name);a.push({value:n,style:{alignment:{horizontal:"center",vertical:"center",wrapText:"true"},font:{sz:"11"},border:{top:{style:"thin",color:{rgb:"FF000000"}},bottom:{style:"thin",color:{rgb:"FF000000"}},left:{style:"thin",color:{rgb:"FF000000"}},right:{style:"thin",color:{rgb:"FF000000"}}}}})}else if("advertisement"===e.id){var i,l="";if(t[e.id])-1!==(i=ea.map((function(e){return e.id})).indexOf(t[e.id]))&&(l=ea[i].name);a.push({value:l,style:{alignment:{horizontal:"center",vertical:"center",wrapText:"true"},font:{sz:"11"},border:{top:{style:"thin",color:{rgb:"FF000000"}},bottom:{style:"thin",color:{rgb:"FF000000"}},left:{style:"thin",color:{rgb:"FF000000"}},right:{style:"thin",color:{rgb:"FF000000"}}}}})}else if("folder"===e.id){var r="";if(t[e.id]){var d=ia.map((function(e){return e.id})).indexOf(t[e.id]);r=ia[d].name}a.push({value:r,style:{alignment:{horizontal:"center",vertical:"center",wrapText:"true"},font:{sz:"11"},border:{top:{style:"thin",color:{rgb:"FF000000"}},bottom:{style:"thin",color:{rgb:"FF000000"}},left:{style:"thin",color:{rgb:"FF000000"}},right:{style:"thin",color:{rgb:"FF000000"}}}}})}else if("created"===e.id||"signed_in"===e.id||"signed_out"===e.id){var c="";t[e.id]&&(c=new Intl.DateTimeFormat("en-US",{year:"numeric",day:"2-digit",month:"long",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}).format(t[e.id]).toString()),a.push({value:c,style:{alignment:{horizontal:"center",vertical:"center",wrapText:"true"},font:{sz:"11"},border:{top:{style:"thin",color:{rgb:"FF000000"}},bottom:{style:"thin",color:{rgb:"FF000000"}},left:{style:"thin",color:{rgb:"FF000000"}},right:{style:"thin",color:{rgb:"FF000000"}}}}})}else if("refreshed"===e.id){var o="";t[e.id]&&(o=new Intl.DateTimeFormat("en-US",{year:"numeric",day:"2-digit",month:"long",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}).format(t[e.id]).toString()),a.push({value:o,style:{alignment:{horizontal:"center",vertical:"center",wrapText:"true"},font:{sz:"11"},border:{top:{style:"thin",color:{rgb:"FF000000"}},bottom:{style:"thin",color:{rgb:"FF000000"}},left:{style:"thin",color:{rgb:"FF000000"}},right:{style:"thin",color:{rgb:"FF000000"}}}}})}else if("size"===e.id||"campaign_size"===e.id){var s="";t[e.id]&&(s=Ia(t[e.id])),a.push({value:s,style:{alignment:{horizontal:"center",vertical:"center",wrapText:"true"},font:{sz:"11"},border:{top:{style:"thin",color:{rgb:"FF000000"}},bottom:{style:"thin",color:{rgb:"FF000000"}},left:{style:"thin",color:{rgb:"FF000000"}},right:{style:"thin",color:{rgb:"FF000000"}}}}})}else if("campaign_duration"===e.id){var u="";t[e.id]&&(u=ka(t[e.id])),a.push({value:u,style:{alignment:{horizontal:"center",vertical:"center",wrapText:"true"},font:{sz:"11"},border:{top:{style:"thin",color:{rgb:"FF000000"}},bottom:{style:"thin",color:{rgb:"FF000000"}},left:{style:"thin",color:{rgb:"FF000000"}},right:{style:"thin",color:{rgb:"FF000000"}}}}})}else if("publish"===e.id){var b="Not yet";t[e.id]&&(b="Yes"),a.push({value:b,style:{alignment:{horizontal:"center",vertical:"center",wrapText:"true"},font:{sz:"11"},border:{top:{style:"thin",color:{rgb:"FF000000"}},bottom:{style:"thin",color:{rgb:"FF000000"}},left:{style:"thin",color:{rgb:"FF000000"}},right:{style:"thin",color:{rgb:"FF000000"}}}}})}else if("campaign_status"===e.id){var j="Permanent";null!==t[e.id]&&(j=t[e.id]?"Not Expired":"Expired"),a.push({value:j,style:{alignment:{horizontal:"center",vertical:"center",wrapText:"true"},font:{sz:"11"},border:{top:{style:"thin",color:{rgb:"FF000000"}},bottom:{style:"thin",color:{rgb:"FF000000"}},left:{style:"thin",color:{rgb:"FF000000"}},right:{style:"thin",color:{rgb:"FF000000"}}}}})}else if("in_use"===e.id){var m="",f=[];(f=Kt.filter((function(e){return e.content&&-1!==e.content.map((function(e){return e.id})).indexOf(t.id)?e:void 0}))).length>0&&f.forEach((function(e,t){1===f.length||t===f.length-1?m+=e.name:m+=e.name+"\n"})),a.push({value:m,style:{alignment:{horizontal:"center",vertical:"center",wrapText:"true"},font:{sz:"11"},border:{top:{style:"thin",color:{rgb:"FF000000"}},bottom:{style:"thin",color:{rgb:"FF000000"}},left:{style:"thin",color:{rgb:"FF000000"}},right:{style:"thin",color:{rgb:"FF000000"}}}}})}else a.push({value:t[e.id]?t[e.id]:"",style:{alignment:{horizontal:"center",vertical:"center",wrapText:"true"},font:{sz:"11"},border:{top:{style:"thin",color:{rgb:"FF000000"}},bottom:{style:"thin",color:{rgb:"FF000000"}},left:{style:"thin",color:{rgb:"FF000000"}},right:{style:"thin",color:{rgb:"FF000000"}}}}})})),n.data.push(a)})),ja([n]),setTimeout((function(){return ma.current.click()}),1e3)}ie([]),ft(!1)},fullScreenDialog:vt,option:Vt,data:e.data,dialogLoading:gt,folderData:Yt,folder:e.folder,allCampaign:Kt,allAds:ea,selectFolder:function(t){ye.a.database().ref(e.data+"/"+de.id).update({folder:t?t.id:null}),de.folder&&ye.a.database().ref(e.folder_data+"/"+de.folder).update({updated:ye.a.database.ServerValue.TIMESTAMP}),ie([]),ft(!1)},component:function(){if("playPreview"===Vt)return Object(Q.jsx)(Ie.a,{withinDateTime:Ta,rows:de.content})}(),allFolder:ia,withinDateTime:function(e){return Ta(e)},secondsToHms:function(e){return ka(e)},bytesToSize:function(e){return Ia(e)},selectFolderMoveAll:function(t){te.forEach((function(a,n){ye.a.database().ref(e.data+"/"+a.id).update({folder:t?t.id:null}),a.folder&&ye.a.database().ref(e.folder_data+"/"+a.folder).update({updated:ye.a.database.ServerValue.TIMESTAMP})})),ie([]),ft(!1)},handleClose:function(){ft(!1)}}),Object(Q.jsx)($,Object(i.a)(Object(i.a)({type:e.type,data:e.data},e),{},{handleSetRows:function(){return e.handleSetRows(te)},onClickMoveAll:function(){xt(!0),ye.a.database().ref(e.folder_data).once("value",(function(e){if(e.exists()){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),Zt(t),xt(!1)}})),Et(!1),Pt("Move all selected items"),Wt("moveAll"),_t("Are you sure you want to move these items?"),St(!1),ft(!0)},addItemText:e.addItemText,addItemIcon:e.addItemIcon,addItemButton:e.addItemButton,numSelected:te.length,selected:te,onClickAddItem:function(){xt(!1),ce(null),Et(!0),Pt(e.addItemText),Wt("addItem"),_t(""),"campaign"===e.data||"advertisement"===e.data?St(!0):St(!1),ft(!0)},onClickDownloadExcel:function(){xt(!1),Et(!0),Pt("Download Excel"),Wt("downloadExcel"),_t(""),St(!1),ft(!0)},onClickDeleteAll:function(){xt(!1),Et(!0),Pt("Delete all selected items"),Wt("deleteAll"),_t("Are you sure you want to delete these items?"),St(!1),ft(!0)}})),Object(Q.jsx)(b.a,{children:Object(Q.jsxs)(o.a,{className:t.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(Q.jsx)(ae,Object(i.a)(Object(i.a)({classes:t,numSelected:te.length,order:fe},e),{},{orderBy:xe,onSelectAllClick:function(t){if(t.target.checked){var a=Te.map((function(e){return e}));return ie(a),void(e.handleSelectedSation&&e.handleSelectedSation(a))}e.handleSelectedSation&&e.handleSelectedSation([]),ie([])},onRequestSort:function(e,t){he(xe===t&&"asc"===fe?"desc":"asc"),ve(t)},rowCount:Te.length,headCells:qe,control:e.control,collapse:e.matches,downloadExcel:e.downloadExcel})),Object(Q.jsxs)(s.a,{children:[Object(Q.jsx)(f.a,{children:Object(Q.jsx)(u.a,{padding:"none",colSpan:qe.length+1+(e.control?1:0),children:Object(Q.jsxs)(x.a,{container:!0,children:[Object(Q.jsx)(x.a,{item:!0,md:7,xs:12,children:Object(Q.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object(Q.jsxs)(O.a,{style:{marginTop:10},fullWidth:!0,children:[Object(Q.jsx)(y.a,{style:{marginLeft:20},children:"Search"}),Object(Q.jsx)(C.a,{disabled:!(He.length>0),onChange:function(e){return nt(e.target.value),void Y(0)},value:at,id:"input-with-icon-adornment",startAdornment:Object(Q.jsx)(w.a,{style:{marginLeft:20},position:"start",children:Object(Q.jsx)(S.a,{})})})]})})}),Object(Q.jsx)(x.a,{item:!0,md:5,xs:12,style:{marginTop:10},children:Object(Q.jsxs)(O.a,{style:{width:"100%"},children:[Object(Q.jsx)(y.a,{style:{paddingLeft:25},id:"simple-select-outlined-label",children:"Search by"}),Object(Q.jsx)(P.a,{style:{paddingLeft:18},disabled:!(He.length>0),labelId:"simple-select-outlined-label",id:"simple-select-outlined",value:Xe,label:"Search by",onChange:function(e){return t=e,nt(""),$e(t.target.value),void ke(He);var t},children:rt.map((function(e,t){var a="enhanced-search-".concat(t);return Object(Q.jsx)(D.a,{value:e.id,children:e.label},a)}))})]})})]})})}),Ne(function(){var e=He.filter((function(e){if(void 0!==e[Xe]){if("folder"===Xe){var t=ia.map((function(e){return e.id})).indexOf(e[Xe]);return-1!==t?ia[t].name.toString().toLowerCase().includes(at.toLowerCase()):void 0}return e[Xe].toString().toLowerCase().includes(at.toLowerCase())}}));return""!==at?e:He}(),Be(fe,xe)).slice(G*J,G*J+J).map((function(t,a){var n,l=(n=t,-1!==te.indexOf(n)),r="enhanced-table-checkbox-".concat(a),c=[];c=Kt.filter((function(e){return e.content&&-1!==e.content.map((function(e){return e.id})).indexOf(t.id)?e:void 0}));var o=[];return Le.forEach((function(e){e.folder===t.id&&o.push(e)})),Object(Q.jsxs)(d.a.Fragment,{children:[Object(Q.jsxs)(f.a,{hover:!0,role:"checkbox","aria-checked":l,tabIndex:-1,selected:l,children:[Object(Q.jsx)(u.a,{padding:"checkbox",children:Object(Q.jsx)(p.a,{style:{display:e.listOnly?"none":"normal"},onClick:function(a){return function(t,a){var n=te.indexOf(a),i=[];-1===n?i=i.concat(te,a):0===n?i=i.concat(te.slice(1)):n===te.length-1?i=i.concat(te.slice(0,-1)):n>0&&(i=i.concat(te.slice(0,n),te.slice(n+1))),e.handleSelectedSation&&e.handleSelectedSation(i),ie(i)}(0,t)},checked:l,inputProps:{"aria-labelledby":r}})}),qe.map((function(a,n){var i="enhanced-table-cell-".concat(n);if("created"===a.id||"refreshed"===a.id||"signed_in"===a.id||"signed_out"===a.id)return t[a.id]?Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:new Intl.DateTimeFormat("en-GB",{year:"numeric",day:"2-digit",month:"long",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}).format(t[a.id])},i):Object(Q.jsx)(u.a,{style:{padding:3},align:"left"},i);if("size"===a.id)return Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:Ia(t[a.id])},i);if("in_use"===a.id)return Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:c.length>0?Object(Q.jsx)(V.a,{title:Object(Q.jsx)(x.a,{style:{display:"flex",flexDirection:"column"},children:c.map((function(e){return Object(Q.jsx)(g.a,{variant:"caption",children:e.name},e.id)}))}),children:Object(Q.jsx)(h.a,{children:Object(Q.jsx)(B.a,{color:"primary",fontSize:"small"})})}):Object(Q.jsx)(h.a,{children:Object(Q.jsx)(R.a,{color:"error",fontSize:"small"})})},i);if("total"===a.id)return Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:o.length+(o.length>1?" "+e.child+"s":" "+e.child)},i);if("campaign"===a.id)return Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:Object(Q.jsx)(V.a,{title:t[a.id]?Object(Q.jsx)(x.a,{style:{display:"flex",flexDirection:"column"},children:Object(Q.jsx)(g.a,{variant:"caption",children:-1!==Kt.map((function(e){return e.id})).indexOf(t[a.id])?Kt[Kt.map((function(e){return e.id})).indexOf(t[a.id])].name:""},t[a.id])}):"",children:Object(Q.jsx)(x.a,{style:{display:"flex",flexDirection:"column"},children:t[a.id]?Object(Q.jsx)(Pe.a,{color:"primary"}):null})})},i);if("advertisement"===a.id)return Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:Object(Q.jsx)(V.a,{title:t[a.id]?Object(Q.jsx)(x.a,{style:{display:"flex",flexDirection:"column"},children:Object(Q.jsx)(g.a,{variant:"caption",children:-1!==ea.map((function(e){return e.id})).indexOf(t[a.id])?ea[ea.map((function(e){return e.id})).indexOf(t[a.id])].name:""},t[a.id])}):"",children:Object(Q.jsx)(x.a,{style:{display:"flex",flexDirection:"column"},children:t[a.id]?Object(Q.jsx)(Pe.a,{color:"primary"}):null})})},i);if("publish"===a.id){if("advertisement"===e.data){var l=Kt.filter((function(e){return e.advertisement&&e.advertisement===t.id?e:void 0}));return Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:t[a.id]?Object(Q.jsx)(V.a,{title:l.length>0?Object(Q.jsx)("div",{children:l.map((function(e){return Object(Q.jsxs)("div",{children:[e.name,Object(Q.jsx)("br",{})]})}))}):"",children:Object(Q.jsx)(h.a,{children:Object(Q.jsx)(B.a,{color:"primary",fontSize:"small"})})}):Object(Q.jsx)(V.a,{title:l.length>0?Object(Q.jsx)("div",{children:l.map((function(e){return Object(Q.jsxs)("div",{children:[e.name,Object(Q.jsx)("br",{})]})}))}):"",children:Object(Q.jsx)(h.a,{children:Object(Q.jsx)(R.a,{color:"error",fontSize:"small"})})})},i)}return Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:t[a.id]?Object(Q.jsx)(h.a,{children:Object(Q.jsx)(B.a,{color:"primary",fontSize:"small"})}):Object(Q.jsx)(h.a,{children:Object(Q.jsx)(R.a,{color:"error",fontSize:"small"})})},i)}if("status"===a.id)return Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:t[a.id]?Object(Q.jsx)(V.a,{title:"Online",children:Object(Q.jsx)(h.a,{children:Object(Q.jsx)(B.a,{color:"primary",fontSize:"small"})})}):Object(Q.jsx)(V.a,{title:"Offline",children:Object(Q.jsx)(h.a,{children:Object(Q.jsx)(R.a,{color:"error",fontSize:"small"})})})},i);if("is_playing"===a.id)return Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:t[a.id]?Object(Q.jsx)(V.a,{title:"Playing",children:Object(Q.jsx)(h.a,{children:Object(Q.jsx)(B.a,{color:"primary",fontSize:"small"})})}):Object(Q.jsx)(V.a,{title:"Stop",children:Object(Q.jsx)(h.a,{children:Object(Q.jsx)(R.a,{color:"error",fontSize:"small"})})})},i);if("campaign_status"===a.id)return t.start_date&&t.end_date&&t.start_time&&t.end_time?t[a.id]=Ta(t.start_date,t.end_date,t.start_time,t.end_time):t[a.id]=null,Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:null!=t[a.id]?Object(Q.jsx)(V.a,{title:t[a.id]?"Current":"Expired",children:Object(Q.jsx)(h.a,{children:Object(Q.jsx)(Ce.a,{style:{color:t[a.id]?"#6bce00":"#b4b4b4"},fontSize:"small"})})}):Object(Q.jsx)(V.a,{title:"Permanent",children:Object(Q.jsx)(h.a,{children:Object(Q.jsx)(Se.a,{style:{color:"#b4b4b4"},fontSize:"small"})})})},i);if("campaign_size"===a.id){var r=t.content.map((function(e){return e.size})).reduce((function(e,t){return e+t}));return t[a.id]=r,Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:t.content?Ia(r):null},i)}if("campaign_duration"===a.id){var d=t.content.map((function(e){return e.duration})).reduce((function(e,t){return e+t}));return t[a.id]=d,Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:t.content?ka(d):null},i)}if("folder"===a.id||"group"===a.id){var s=ia.map((function(e){return e.id})).indexOf(t.folder);return Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:-1!==s?ia[s].name:null},i)}return Object(Q.jsx)(u.a,{style:{padding:3},align:"left",children:Object(Q.jsx)(x.a,{style:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:200},children:Object(Q.jsx)(g.a,{variant:"body2",noWrap:!0,children:t[a.id]})})},i)})),e.control&&e.matches?Object(Q.jsx)(u.a,{style:{padding:3},align:"right",children:Object(Q.jsx)(Oe,Object(i.a)({data:e.data,row:t,type:e.type,onClickPreviewCampaign:function(e){return ya(e)},onClickMove:function(e){return Oa(e)},onClickPublish:function(e){return va(e)},onClickPreview:function(e){return xa(e)},onClickInfo:function(e){return ga(e)},onClickEdit:function(e){return pa(e)},onClickDelete:function(e){return ha(e)},onClickOpenFolder:function(e){return Sa(e)},onClickRefresh:function(e){return wa(e)},onClickUpdate:function(e){return Ca(e)},onClickRestart:function(e){return Da(e)},onClickListStation:function(e){return Pa(e)},disabledDelete:_a(c,o),disabledEdit:e.disabledEdit},e))},"control"):null,e.matches?null:Object(Q.jsx)(u.a,{align:"right",children:Object(Q.jsx)(h.a,{onClick:function(){Nt===t.id?Rt(null):Rt(t.id)},children:Nt===t.id?Object(Q.jsx)(M.a,{}):Object(Q.jsx)(_.a,{})})})]}),Object(Q.jsx)(f.a,{children:Object(Q.jsx)(u.a,{style:{paddingBottom:0,paddingTop:0},colSpan:qe.length+1+(e.control?1:0),children:Object(Q.jsx)(E.a,{in:Nt===t.id,timeout:"auto",unmountOnExit:!0,children:Object(Q.jsx)(z.a,{margin:1,children:Object(Q.jsx)(Oe,Object(i.a)({data:e.data,row:t,type:e.type,onClickPreviewCampaign:function(e){return ya(e)},onClickMove:function(e){return Oa(e)},onClickPublish:function(e){return va(e)},onClickPreview:function(e){return xa(e)},onClickInfo:function(e){return ga(e)},onClickEdit:function(e){return pa(e)},onClickDelete:function(e){return ha(e)},onClickOpenFolder:function(e){return Sa(e)},onClickRefresh:function(e){return wa(e)},onClickUpdate:function(e){return Ca(e)},onClickRestart:function(e){return Da(e)},onClickListStation:function(e){return Pa(e)},disabledDelete:_a(c,o),disabledEdit:e.disabledEdit},e))})})})})]},t.id)}))]}),Object(Q.jsx)(j.a,{children:Object(Q.jsx)(f.a,{children:Object(Q.jsx)(m.a,{labelRowsPerPage:"Pages",rowsPerPageOptions:[10,25,50],colSpan:qe.length+1+(e.control?1:0),count:Te.length,rowsPerPage:J,page:G,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){Y(t)},onChangeRowsPerPage:function(e){K(parseInt(e.target.value,10)),Y(0)},ActionsComponent:ne.a})})})]})})]})}},256:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(35),i=a(1),l=a.n(i),r=a(338),d=a(356),c=a(46),o=a(202),s=a(203),u=a(688),b=a.n(u),j=a(168),m=a(740),f=a(201),h=a(337),p=a(454),g=a(458),x=a(4);function O(e){var t=l.a.useState(null),a=Object(n.a)(t,2),i=a[0],u=a[1],O=l.a.useState(!1),y=Object(n.a)(O,2),v=y[0],S=y[1],w=l.a.useState(""),C=Object(n.a)(w,2),D=C[0],P=C[1],I=l.a.useState(""),T=Object(n.a)(I,2),k=T[0],_=T[1],F=l.a.useState(""),M=Object(n.a)(F,2),z=M[0],E=M[1],A=l.a.useState(!1),B=Object(n.a)(A,2),N=B[0],R=B[1],L=l.a.useState(!1),U=Object(n.a)(L,2),V=U[0],W=U[1];return Object(x.jsxs)("div",{children:[Object(x.jsx)(h.a,{agreeTxt:"downloadUserManual"===k?"Download":"Submit",disagreeTxt:"Cancel",description:z,title:D,open:V,agreeButton:v,handleAgree:function(){"downloadUserManual"===k&&Object(g.saveAs)("https://firebasestorage.googleapis.com/v0/b/smrt-b5bb9.appspot.com/o/user%20manual%2FSMRT-CMS-UserManual-20May21-V2.pdf?alt=media&token=7f6ea5a8-3ceb-4db2-8460-5da8f58f9639","user_manual.pdf"),W(!1)},component:"downloadUserManual"!==k?Object(x.jsx)(p.a,{}):null,fullScreenDialog:N,option:k,handleClose:function(){W(!1)}}),Object(x.jsxs)(f.a,{component:"div",color:"primary",position:"static",elevation:0,style:{marginTop:-10},children:[Object(x.jsx)(o.a,{children:Object(x.jsxs)(s.a,{container:!0,alignItems:"center",spacing:1,children:[Object(x.jsx)(s.a,{item:!0,xs:!0,children:Object(x.jsx)(c.a,{color:"inherit",variant:"h5",component:"h1",children:e.title})}),Object(x.jsx)(s.a,{style:{display:"none"},item:!0,children:Object(x.jsx)(m.a,{title:"Help",children:Object(x.jsx)(j.a,{startIcon:Object(x.jsx)(b.a,{}),color:"inherit",onClick:function(e){u(e.currentTarget)},children:"Help"})})})]})}),Object(x.jsxs)(r.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){u(null)},children:[Object(x.jsx)(d.a,{style:{fontSize:14},onClick:function(){S(!0),P("Download User Manual"),_("downloadUserManual"),E(""),R(!1),W(!0),u(null)},children:"Download User Manual"}),Object(x.jsx)(d.a,{style:{fontSize:14},onClick:function(){S(!0),P("Contact Support"),_("contactSupport"),E(""),R(!1),W(!0),u(null)},children:"Contact Support"}),Object(x.jsx)(d.a,{style:{fontSize:12},disabled:!0,children:"Email: support@pgkdigital.com"})]})]})]})}},295:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(35),i=a(1),l=a.n(i),r=a(226),d=a(204),c=a(203),o=a(227),s=a.n(o),u=a(4);function b(e){var t=l.a.useState([]),a=Object(n.a)(t,2),o=a[0],b=a[1],j=l.a.useState([]),m=Object(n.a)(j,2),f=m[0],h=m[1],p=l.a.useState(""),g=Object(n.a)(p,2),x=g[0],O=g[1],y=l.a.useState([]),v=Object(n.a)(y,2),S=v[0],w=v[1],C=l.a.useState([]),D=Object(n.a)(C,2),P=D[0],I=D[1],T=l.a.useState([]),k=Object(n.a)(T,2),_=k[0],F=k[1],M=l.a.useState([]),z=Object(n.a)(M,2),E=z[0],A=z[1],B=Object(d.a)((function(e){return e.breakpoints.up("sm")}));return Object(i.useEffect)((function(){b([{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"publish",numeric:!0,disablePadding:!1,label:"Published"},{id:"campaign_status",numeric:!0,disablePadding:!1,label:"Status"},{id:"campaign_size",numeric:!0,disablePadding:!1,label:"Size"},{id:"campaign_duration",numeric:!0,disablePadding:!1,label:"Duration"},{id:"created",numeric:!0,disablePadding:!1,label:"Created"}]),h([{id:"name",numeric:!1,disablePadding:!1,label:"Name"}]),w([{id:"id",label:"Id"},{id:"name",label:"Name"}]),I([{id:"id",numeric:!1,disablePadding:!1,label:"Id"},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"publish",numeric:!0,disablePadding:!1,label:"Published"},{id:"campaign_status",numeric:!0,disablePadding:!1,label:"Status"},{id:"campaign_size",numeric:!0,disablePadding:!1,label:"Size"},{id:"campaign_duration",numeric:!0,disablePadding:!1,label:"Duration"},{id:"created",numeric:!0,disablePadding:!1,label:"Created"}]),A([{id:"id",numeric:!1,disablePadding:!1,label:"Id"},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"publish",numeric:!0,disablePadding:!1,label:"Published"},{id:"campaign_status",numeric:!0,disablePadding:!1,label:"Status"},{id:"campaign_size",numeric:!0,disablePadding:!1,label:"Size"},{id:"campaign_duration",numeric:!0,disablePadding:!1,label:"Duration"},{id:"created",numeric:!0,disablePadding:!1,label:"Created"}]),F([{id:"name",numeric:!1,disablePadding:!1,label:"Name"}]),O("name")}),[]),Object(u.jsx)(c.a,{children:Object(u.jsx)(r.a,{control:!0,excelList:E,downloadExcel:!0,rowsPerPage:5,orderBy:"created",data:e.ads?"advertisement":"campaign",addItemButton:!0,addItemText:e.ads?"Add advertisement":"Add campaign",addItemIcon:Object(u.jsx)(s.a,{}),folder_data:e.ads?"advertisement_folder":"campaign_folder",folder:e.folder,displayInfo:P,matches:B,editCells:_,headCells:B?o:f,searchValue:x,searchCell:S})})}},337:function(e,t,a){"use strict";a.d(t,"a",(function(){return We}));var n=a(23),i=a(88),l=a(1),r=a.n(l),d=a(10),c=a(168),o=a(191),s=a(196),u=a(723),b=a(721),j=a(720),m=a(719),f=a(203),h=a(46),p=a(350),g=a.n(p),x=a(460),O=a(205),y=a(379),v=a.n(y),S=a(193),w=a(169),C=a(459),D=a(355),P=a(295),I=a(35),T=a(226),k=a(227),_=a.n(k),F=a(36),M=a(738),z=a(356),E=a(714),A=a(739),B=a(4);function N(e){var t=r.a.useState([]),a=Object(I.a)(t,2),n=a[0],i=a[1],d=r.a.useState([]),c=Object(I.a)(d,2),o=(c[0],c[1]),s=r.a.useState(""),u=Object(I.a)(s,2),b=u[0],j=u[1],m=r.a.useState([]),h=Object(I.a)(m,2),p=h[0],g=h[1],x=r.a.useState([]),O=Object(I.a)(x,2),y=O[0],v=O[1],S=r.a.useState([]),w=Object(I.a)(S,2),C=w[0],D=w[1],P=r.a.useState([]),k=Object(I.a)(P,2),N=k[0],R=k[1],L=r.a.useState([]),U=Object(I.a)(L,2),V=U[0],W=U[1],H=r.a.useState("default"),G=Object(I.a)(H,2),Y=G[0],Z=G[1],q=r.a.useState([]),J=Object(I.a)(q,2),K=J[0],Q=J[1];return Object(l.useEffect)((function(){i([{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"folder",numeric:!0,disablePadding:!1,label:"Group"}]),o([{id:"name",numeric:!1,disablePadding:!1,label:"Name"}]),g([{id:"folder",label:"Group"},{id:"name",label:"Name"}]),v([{id:"id",numeric:!1,disablePadding:!1,label:"Id"},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"campaign",numeric:!0,disablePadding:!1,label:"Campaign"},{id:"created",numeric:!0,disablePadding:!1,label:"Created"},{id:"refreshed",numeric:!0,disablePadding:!1,label:"Refreshed"}]),D([{id:"name",numeric:!1,disablePadding:!1,label:"Name"}]),R([{id:"name",label:"Name"}]),W({name:"",refreshed:F.a.database.ServerValue.TIMESTAMP}),j("folder"),F.a.database().ref("station_zone").once("value",(function(e){if(e.exists()){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),Q(t)}}))}),[]),Object(B.jsxs)(f.a,{children:[Object(B.jsx)(f.a,{style:{display:"none",width:"100%",padding:20},children:Object(B.jsxs)(E.a,{variant:"outlined",children:[Object(B.jsx)(M.a,{id:"demo-simple-select-outlined-label",children:"Zone"}),Object(B.jsxs)(A.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:Y,onChange:function(e){Z(e.target.value)},label:"Zone",children:[Object(B.jsx)(z.a,{value:"default",children:Object(B.jsx)("em",{children:"Default"})}),K.map((function(e,t){return Object(B.jsx)(z.a,{value:e.id,children:Object(B.jsx)("em",{children:e.name})},"folderlist"+t)}))]})]})}),Object(B.jsx)(T.a,{handleSetStation:function(t){return e.handleSetStation(t)},selectedStations:e.selectedStations,allCampaign:e.allCampaign,selectedItem:e.selectedItem,listOnly:e.listOnly,ads:e.ads,control:!1,rowsPerPage:15,orderBy:"created",data:"station",addItemButton:!1,addItemText:"Add station",addItemIcon:Object(B.jsx)(_.a,{}),addCells:N,addCellsName:V,folder_data:"station_zone",folder:"default"===Y?null:Y,displayInfo:y,downloadExcel:!1,matches:true,selectStation:!0,editCells:C,headCells:n,searchValue:b,searchCell:p})]})}var R=a(694),L=a(207),U=a(378),V=a.n(U),W=a(526),H=a.n(W),G=a(527),Y=a.n(G),Z=a(523),q=a.n(Z),J=a(304),K=a.n(J),Q=a(522),X=a.n(Q),$=a(722),ee=a(724),te=a(744),ae=a(357),ne=a(692),ie=a(101),le=a.n(ie),re=a(743),de=a(718),ce=a(689),oe=a(525),se=a.n(oe),ue=a(374),be=a.n(ue),je=a(375),me=a.n(je);function fe(e){var t=r.a.useState([]),a=Object(I.a)(t,2),n=a[0],i=a[1],d=r.a.useState(""),c=Object(I.a)(d,2),o=c[0],s=c[1],u=r.a.useState([]),b=Object(I.a)(u,2),j=b[0],m=b[1],h=r.a.useState([]),p=Object(I.a)(h,2),g=p[0],x=p[1],O=r.a.useState([]),y=Object(I.a)(O,2),v=y[0],S=y[1],w=r.a.useState("default"),C=Object(I.a)(w,2),D=C[0],P=C[1],k=r.a.useState([]),_=Object(I.a)(k,2),N=_[0],R=_[1];return Object(l.useEffect)((function(){i([{id:"name",numeric:!1,disablePadding:!1,label:"Name"}]),m([{id:"id",label:"Id"},{id:"name",label:"Name"}]),x([{id:"id",numeric:!1,disablePadding:!1,label:"Id"},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"size",numeric:!0,disablePadding:!1,label:"Size"},{id:"created",numeric:!0,disablePadding:!1,label:"Created"},{id:"type",numeric:!0,disablePadding:!1,label:"Type"},{id:"in_use",numeric:!0,disablePadding:!1,label:"In Use"}]),S([{id:"name",numeric:!1,disablePadding:!1,label:"Name"}]),s("name"),F.a.database().ref("content_folder").once("value",(function(e){if(e.exists()){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),R(t)}}))}),[]),Object(B.jsxs)(f.a,{children:[Object(B.jsx)(f.a,{style:{width:"100%",padding:20},children:Object(B.jsxs)(E.a,{variant:"outlined",children:[Object(B.jsx)(M.a,{id:"demo-simple-select-outlined-label",children:"Folder"}),Object(B.jsxs)(A.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:D,onChange:function(e){P(e.target.value)},label:"Folder",children:[Object(B.jsx)(z.a,{value:"default",children:Object(B.jsx)("em",{children:"Default"})}),N.map((function(e,t){return Object(B.jsx)(z.a,{value:e.id,children:Object(B.jsx)("em",{children:e.name})},"content"+t)}))]})]})}),Object(B.jsx)(T.a,{selectContent:!0,handleSetRows:function(t){return e.handleSetRows(t)},control:!0,rowsPerPage:5,orderBy:"created",data:"content",folder_data:"content_folder",folder:"default"===D?null:D,displayInfo:g,matches:!1,editCells:v,headCells:n,searchValue:o,searchCell:j})]})}var he=a(493),pe=a.n(he),ge=a(505),xe=a(270),Oe=a(519),ye=a.n(Oe),ve=a(305),Se=a.n(ve),we=a(306),Ce=a.n(we),De=a(372),Pe=a(740);function Ie(e){var t=e.onSelectAllClick,a=e.numSelected,n=e.rowCount,i=e.headCells,l=e.disableCheckBox;return Object(B.jsx)(de.a,{children:Object(B.jsxs)(m.a,{children:[l?null:Object(B.jsx)(j.a,{padding:"checkbox",children:Object(B.jsx)(ne.a,{indeterminate:a>0&&a<n,checked:n>0&&a===n,onChange:t,inputProps:{"aria-label":"select all"}})}),i?i.map((function(e){return Object(B.jsx)(j.a,{style:{padding:3},align:"left",padding:"none",sortDirection:!1,children:e.label},e.id)})):null]})})}var Te=Object(L.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},duration:{"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{display:"none"}},table:{width:"100%"}}})),ke=function(e,t){return function(a){return Object(B.jsx)(ce.b,{draggableId:e,index:t,children:function(e,t){return Object(B.jsx)(m.a,Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:(i=t.isDragging,l=e.draggableProps.style,Object(n.a)(Object(n.a)({},l),i&&{background:"rgb(235,235,235)"}))},a),{},{children:a.children}));var i,l}})}},_e=function(e){return function(t){return Object(B.jsx)(ce.a,{onDragEnd:e,children:Object(B.jsx)(ce.c,{droppableId:"1",direction:"vertical",children:function(e){return Object(B.jsxs)(b.a,Object(n.a)(Object(n.a)(Object(n.a)({ref:e.innerRef},e.droppableProps),t),{},{children:[t.children,e.placeholder]}))}})})}};function Fe(e){var t=Te(),a=r.a.useState([]),n=Object(I.a)(a,2),i=n[0],d=n[1],o=r.a.useState(10),s=Object(I.a)(o,2),p=s[0],y=s[1],v=r.a.useState(""),S=Object(I.a)(v,2),w=S[0],C=S[1],D=r.a.useState(1),P=Object(I.a)(D,2),T=P[0],k=P[1],M=r.a.useState(0),z=Object(I.a)(M,2),E=z[0],A=z[1],L=r.a.useState(10),U=Object(I.a)(L,2),W=U[0],G=U[1],Z=r.a.useState(0),J=Object(I.a)(Z,2),Q=J[0],ie=J[1],de=r.a.useState(0),ce=Object(I.a)(de,2),oe=(ce[0],ce[1],r.a.useState(10)),ue=Object(I.a)(oe,2),je=ue[0],he=ue[1],Oe=r.a.useState(10),ve=Object(I.a)(Oe,2),we=(ve[0],ve[1],r.a.useState(i[0])),Fe=Object(I.a)(we,2),Me=Fe[0],ze=Fe[1],Ee=r.a.useState([]),Ae=Object(I.a)(Ee,2),Be=Ae[0],Ne=Ae[1],Re=r.a.useState(!1),Le=Object(I.a)(Re,2),Ue=Le[0],Ve=Le[1],He=r.a.useState(!1),Ge=Object(I.a)(He,2),Ye=Ge[0],Ze=Ge[1],qe=r.a.useState(!1),Je=Object(I.a)(qe,2),Ke=Je[0],Qe=Je[1],Xe=r.a.useState(""),$e=Object(I.a)(Xe,2),et=$e[0],tt=$e[1],at=r.a.useState(""),nt=Object(I.a)(at,2),it=nt[0],lt=nt[1],rt=r.a.useState(!1),dt=Object(I.a)(rt,2),ct=dt[0],ot=dt[1],st=r.a.useState(!1),ut=Object(I.a)(st,2),bt=ut[0],jt=ut[1],mt=r.a.useState(""),ft=Object(I.a)(mt,2),ht=ft[0],pt=ft[1],gt=r.a.useState([]),xt=Object(I.a)(gt,2),Ot=(xt[0],xt[1]),yt=r.a.useState(1),vt=Object(I.a)(yt,2),St=vt[0],wt=vt[1],Ct=r.a.useState("none"),Dt=Object(I.a)(Ct,2),Pt=(Dt[0],Dt[1]),It=r.a.useState({startDate:new Date,endDate:Object(xe.default)(new Date,1),key:"selection"}),Tt=Object(I.a)(It,2),kt=Tt[0],_t=Tt[1],Ft=r.a.useState([]),Mt=Object(I.a)(Ft,2),zt=Mt[0],Et=Mt[1],At=r.a.useState([]),Bt=Object(I.a)(At,2),Nt=(Bt[0],Bt[1]),Rt=r.a.useState({startTime:new Date((new Date).setHours(0,0,0,0)),endTime:new Date((new Date).setHours(0,0,0,0))}),Lt=Object(I.a)(Rt,2),Ut=Lt[0],Vt=Lt[1],Wt=r.a.useState(null),Ht=Object(I.a)(Wt,2),Gt=Ht[0],Yt=Ht[1],Zt=r.a.useState([]),qt=Object(I.a)(Zt,2),Jt=qt[0],Kt=qt[1];Object(l.useEffect)((function(){if(F.a.database().ref("station_zone").once("value",(function(e){if(e.exists()){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),Et(t)}})),F.a.database().ref("station").once("value",(function(t){if(t.exists()){var a=[],n=[];t.forEach((function(t){var i=t.val();a.push(i),"advertisement"===e.data?e.selectedItem&&i.advertisement===e.selectedItem.id&&n.push(i):e.selectedItem&&i.campaign===e.selectedItem.id&&n.push(i)})),Kt(n),Nt(a)}})),F.a.database().ref("advertisement").once("value",(function(e){if(e.exists()){var t=[];e.forEach((function(e){var a=e.val();t.push(a)})),Ot(t)}})),e.selectedItem&&(d(e.selectedItem.content),ze(e.selectedItem.content[0]),y(e.selectedItem.content[0].duration?e.selectedItem.content[0].duration:0),C(e.selectedItem.name),Pt(e.selectedItem.advertisement?e.selectedItem.advertisement:null),wt(e.selectedItem.parallel?e.selectedItem.parallel:1),e.selectedItem.start_date&&e.selectedItem.end_date&&e.selectedItem.start_time&&e.selectedItem.end_time)){var t={startDate:e.selectedItem.start_date?e.selectedItem.start_date:new Date,endDate:e.selectedItem.end_date?e.selectedItem.end_date:Object(xe.default)(new Date,1),startTime:e.selectedItem.start_time?e.selectedItem.start_time:new Date((new Date).setHours(0,0,0,0)),endTime:e.selectedItem.end_time?e.selectedItem.end_time:new Date((new Date).setHours(0,0,0,0))};Yt(t)}}),[e]);var Qt=function(e){i[i.map((function(e){return e})).indexOf(Me)].duration=e},Xt=function(e,t,a){var n=Array.from(e),i=n.splice(t,1),l=Object(I.a)(i,1)[0];return n.splice(a,0,l),n},$t=function(e){var t=[];e.forEach((function(e,a){var n=e;n.uid=e.id+(i.length+pe()("prefix-")),"image/jpeg"===e.type&&(n.duration=10),t.push(n)})),Me||(ze(t[0]),y("image/jpeg"===t[0].type?10:0)),d((function(e){return[].concat(Object(R.a)(e),t)})),Ve(!1),Ne([])},ea=function(t){if("edit"===e.option)F.a.database().ref(e.data+"/"+e.selectedItem.id).update({name:w,content:i,updated:F.a.database.ServerValue.TIMESTAMP,publish:t,start_date:Gt?Gt.startDate:null,end_date:Gt?Gt.endDate:null,start_time:Gt?Gt.startTime:null,end_time:Gt?Gt.endTime:null,parallel:parseInt(St)}),t?F.a.database().ref("log_"+e.data).push({user:F.a.auth().currentUser.email,item:e.selectedItem,status:"updated_published",updated:F.a.database.ServerValue.TIMESTAMP}):F.a.database().ref("log_"+e.data).push({user:F.a.auth().currentUser.email,item:e.selectedItem,status:"updated",updated:F.a.database.ServerValue.TIMESTAMP}),Jt.length>0&&("advertisement"===e.data?Jt.forEach((function(t){F.a.database().ref("station/"+t.id).update({advertisement:e.selectedItem.id})})):Jt.forEach((function(t){F.a.database().ref("station/"+t.id).update({campaign:e.selectedItem.id})})));else{var a={},n=F.a.database().ref().child(e.data).push().key;a.created=F.a.database.ServerValue.TIMESTAMP,a.id=n,a.user=F.a.auth().currentUser.uid,a.name=w,a.content=i,a.publish=t,a.start_date=Gt?Gt.startDate:null,a.end_date=Gt?Gt.endDate:null,a.start_time=Gt?Gt.startTime:null,a.end_date=Gt?Gt.endTime:null,a.parallel=parseInt(St);var l={};l[e.data+"/"+n]=a,F.a.database().ref().update(l),t?F.a.database().ref("log_"+e.data).push({user:F.a.auth().currentUser.email,item:a,status:"added_published",updated:F.a.database.ServerValue.TIMESTAMP}):F.a.database().ref("log_"+e.data).push({user:F.a.auth().currentUser.email,item:a,status:"added",updated:F.a.database.ServerValue.TIMESTAMP}),Jt.length>0&&("advertisement"===e.data?Jt.forEach((function(e){F.a.database().ref("station/"+e.id).update({advertisement:n})})):Jt.forEach((function(e){F.a.database().ref("station/"+e.id).update({campaign:n})})))}e.handleClose()},ta=function(e){e?Gt?(_t({startDate:new Date(Gt.startDate),endDate:new Date(Gt.endDate),key:"selection"}),Vt({startTime:new Date(Gt.startTime),endTime:new Date(Gt.endTime)})):(_t({startDate:new Date,endDate:Object(xe.default)(new Date,1),key:"selection"}),Vt({startTime:new Date((new Date).setHours(0,0,0,0)),endTime:new Date((new Date).setHours(0,0,0,0))})):-1!==i.map((function(e){return e})).indexOf(Me)&&(i[i.map((function(e){return e})).indexOf(Me)].start_date&&i[i.map((function(e){return e})).indexOf(Me)].end_date?_t({startDate:new Date(i[i.map((function(e){return e})).indexOf(Me)].start_date),endDate:new Date(i[i.map((function(e){return e})).indexOf(Me)].end_date),key:"selection"}):_t({startDate:new Date,endDate:Object(xe.default)(new Date,1),key:"selection"}),i[i.map((function(e){return e})).indexOf(Me)].start_time&&i[i.map((function(e){return e})).indexOf(Me)].end_time?Vt({startTime:new Date(i[i.map((function(e){return e})).indexOf(Me)].start_time),endTime:new Date(i[i.map((function(e){return e})).indexOf(Me)].end_time)}):Vt({startTime:new Date((new Date).setHours(0,0,0,0)),endTime:new Date((new Date).setHours(0,0,0,0))})),Ze(!1),ot(!0),tt(e?"Global Schedule":"Schedule"),pt("setContentSchedule"),lt(""),Qe(!1),jt(e),Ve(!0)},aa=function(e){_t(e.selection)},na=function(e){Vt({startTime:new Date(e.startTime),endTime:new Date(e.endTime)})},ia=function(e,t,a,n){if(e&&t&&a&&n){var i=new Date(new Date(e).getFullYear(),new Date(e).getMonth(),new Date(e).getDate()),l=new Date(new Date(t).getFullYear(),new Date(t).getMonth(),new Date(t).getDate()),r=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),d=new Date,c=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),new Date(a).getHours(),new Date(a).getMinutes()),o=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),new Date(n).getHours(),new Date(n).getMinutes());return i<=r&&l>=r&&new Date(c).getHours()===new Date(o).getHours()&&new Date(a).getMinutes()===new Date(n).getMinutes()||i<=r&&l>=r&&d>=c&&d<=o}return!0},la=function(e){if(0===e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]},ra=function(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+(1===t?" hour, ":" hours, "):"")+(a>0?a+(1===a?" min, ":" mins, "):"")+(n>0?n+(1===n?" sec":" secs"):"")};return Object(B.jsxs)(f.a,{style:{marginTop:20},children:[Object(B.jsx)(We,{agreeTxt:"Yes",disagreeTxt:"No",description:it,title:et,open:Ue,agreeButton:ct,fullScreenDialog:Ke,option:ht,dialogLoading:Ye,handleAgree:function(){if("publishStation"===ht)ea(!0);else if("saveStation"===ht)ea(!1);else if(bt){var e={startDate:kt.startDate,endDate:kt.endDate,startTime:Ut.startTime,endTime:Ut.endTime};Yt(e)}else-1!==i.map((function(e){return e})).indexOf(Me)&&(i[i.map((function(e){return e})).indexOf(Me)].start_date=kt.startDate,i[i.map((function(e){return e})).indexOf(Me)].end_date=kt.endDate,i[i.map((function(e){return e})).indexOf(Me)].start_time=Ut.startTime,i[i.map((function(e){return e})).indexOf(Me)].end_time=Ut.endTime);Ve(!1)},component:"setContentSchedule"===ht?Object(B.jsxs)(f.a,{children:[Object(B.jsx)(ye.a,{startMoment:new Date(Ut.startTime),endMoment:new Date(Ut.endTime),onChange:na}),Object(B.jsx)(ge.DateRange,{direction:"vertical",scroll:{enabled:!0},editableDateInputs:!0,ranges:[kt],onChange:aa})]}):"selectStation"===ht?Object(B.jsx)(N,{selectedStations:Jt,handleSetStation:function(e){return Kt(e),void Ve(!1)}}):"addItem"===ht?Object(B.jsx)(fe,{handleSetRows:function(e){return $t(e)}}):"playPreview"===ht?Object(B.jsx)(De.a,{withinDateTime:ia,rows:i}):void 0,handleClose:function(){Ve(!1)}}),Object(B.jsxs)(f.a,{container:!0,children:[Object(B.jsxs)(f.a,{item:!0,lg:4,xs:12,children:[Object(B.jsx)(f.a,{children:Object(B.jsx)(f.a,{container:!0,style:{paddingLeft:20,paddingRight:20,paddingBottom:10},children:Object(B.jsx)(f.a,{item:!0,xs:12,children:Object(B.jsx)(c.a,{onClick:function(){Ze(!1),ot(!1),tt("Add Content"),pt("addItem"),lt(""),Qe(!1),Ve(!0)},color:"primary",style:{width:"100%",height:"100%"},startIcon:Object(B.jsx)(_.a,{}),disableElevation:!0,variant:"contained",children:"Add Content"})})})}),Object(B.jsxs)(f.a,{container:!0,spacing:2,style:{display:"flex",justifyContent:"center",paddingLeft:20,paddingRight:20,paddingBottom:10},children:[Object(B.jsxs)(f.a,{item:!0,md:6,xs:4,style:{display:"flex"},children:[Object(B.jsx)(f.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(B.jsx)(x.a,{disabled:!(i.length>0&&Me)||(-1===i.map((function(e){return e})).indexOf(Me)||"image/jpeg"!==Me.type),className:t.duration,label:"Duration",type:"number",onChange:function(e){var t=Math.min(Math.max(e.target.value,1),100);Qt(t),y((function(e){return t}))},value:i.length>0&&Me&&-1!==!i.map((function(e){return e})).indexOf(Me)&&"image/jpeg"===Me.type?p:0,variant:"outlined"})}),Object(B.jsxs)(f.a,{style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(B.jsx)(O.a,{style:{marginBottom:-5},disabled:!(i.length>0&&Me)||(-1===i.map((function(e){return e})).indexOf(Me)||"image/jpeg"!==Me.type),onClick:function(){y((function(e){var t=0;return Qt(t=e<100?e+1:e),t}))},children:Object(B.jsx)(_.a,{style:{color:i.length>0&&Me&&-1!==i.map((function(e){return e})).indexOf(Me)&&"image/jpeg"===Me.type?"#556ee6":"#9f9f9f"}})}),Object(B.jsx)(O.a,{disabled:!(i.length>0&&Me)||(-1===i.map((function(e){return e})).indexOf(Me)||"image/jpeg"!==Me.type),onClick:function(){y((function(e){var t=0;return Qt(t=e>1?e-1:e),t}))},children:Object(B.jsx)(X.a,{style:{color:i.length>0&&Me&&-1!==i.map((function(e){return e})).indexOf(Me)&&"image/jpeg"===Me.type?"#556ee6":"#9f9f9f"}})})]})]}),Object(B.jsx)(f.a,{md:6,item:!0,xs:5,style:{display:"flex"},children:Object(B.jsx)(c.a,{onClick:function(){return ta(!1)},disabled:!(i.length>0),color:"primary",style:{width:"100%"},startIcon:Object(B.jsx)(q.a,{}),disableElevation:!0,variant:"outlined",children:"Content Schedule"})}),Object(B.jsx)(f.a,{item:!0,md:12,xs:3,style:{display:"flex",paddingTop:7,paddingBottom:7},children:Object(B.jsx)(c.a,{disabled:!(i.length>0),color:"primary",style:{width:"100%",height:"100%"},startIcon:Object(B.jsx)(K.a,{}),onClick:function(){var e=i.filter((function(e){return!Be.includes(e)}));0===e.length?(ze(null),y(0)):-1===e.map((function(e){return e})).indexOf(Me)&&(ze(e[0]),y(e[0].duration),k(1)),d(e),Ne([])},disableElevation:!0,variant:"outlined",children:"Delete"})})]}),Object(B.jsxs)(f.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",paddingLeft:20,paddingRight:20,paddingBottom:10},children:[Object(B.jsx)(h.a,{style:{color:i.length>0?"#556ee6":"#9f9f9f",fontWeight:"bold"},variant:"caption",children:"Content Schedule Status"}),Object(B.jsxs)(f.a,{children:[Object(B.jsx)(h.a,{style:{color:i.length>0?"#556ee6":"#9f9f9f",fontWeight:"bold"},variant:"caption",children:"Date: "}),Object(B.jsx)(h.a,{style:{color:i.length>0?"#556ee6":"#9f9f9f"},variant:"caption",children:Me&&i[i.map((function(e){return e})).indexOf(Me)].start_date?"From "+new Intl.DateTimeFormat("en-GB",{year:"numeric",day:"2-digit",month:"long"}).format(new Date(i[i.map((function(e){return e})).indexOf(Me)].start_date))+" to "+new Intl.DateTimeFormat("en-GB",{year:"numeric",day:"2-digit",month:"long"}).format(new Date(i[i.map((function(e){return e})).indexOf(Me)].end_date)):"No schedule"})]}),Object(B.jsxs)(f.a,{children:[Object(B.jsx)(h.a,{style:{color:i.length>0?"#556ee6":"#9f9f9f",fontWeight:"bold"},variant:"caption",children:"Time: "}),Object(B.jsx)(h.a,{style:{color:i.length>0?"#556ee6":"#9f9f9f"},variant:"caption",children:Me&&i[i.map((function(e){return e})).indexOf(Me)].start_time&&i[i.map((function(e){return e})).indexOf(Me)].end_time?"From "+new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"numeric"}).format(new Date(i[i.map((function(e){return e})).indexOf(Me)].start_time))+" to "+new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"numeric"}).format(new Date(i[i.map((function(e){return e})).indexOf(Me)].end_time)):"No schedule"})]})]}),Object(B.jsxs)(f.a,{container:!0,style:{display:"flex",paddingLeft:20,paddingRight:20,paddingBottom:5},children:[Object(B.jsxs)(f.a,{item:!0,xs:5,style:{display:"flex"},children:[Object(B.jsx)(f.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(B.jsx)(x.a,{disabled:!(i.length>1),className:t.duration,label:"Sequance",type:"number",onChange:function(e){var t=Math.min(Math.max(e.target.value,1),i.length);k((function(e){return t}))},value:i.length>0?T:0,variant:"outlined"})}),Object(B.jsxs)(f.a,{style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(B.jsx)(O.a,{disabled:!(i.length>1),style:{marginBottom:-5},onClick:function(){if(0!==i.map((function(e){return e})).indexOf(Me)){var e=Xt(i,i.map((function(e){return e})).indexOf(Me),T-1-1);d(e),k(T-1)}},children:Object(B.jsx)(be.a,{style:{color:Be.length>0?"#556ee6":"#9f9f9f"}})}),Object(B.jsx)(O.a,{disabled:!(i.length>1),onClick:function(){if(i.map((function(e){return e})).indexOf(Me)!==i.length-1){var e=Xt(i,i.map((function(e){return e})).indexOf(Me),T-1+1);d(e),k(T+1)}},children:Object(B.jsx)(me.a,{style:{color:Be.length>0?"#556ee6":"#9f9f9f"}})})]})]}),Object(B.jsx)(f.a,{item:!0,xs:7,style:{display:"flex",flexDirection:"column",paddingTop:7,paddingBottom:7},children:Object(B.jsx)(c.a,{disabled:!(i.length>1),onClick:function(){var e=Xt(i,i.map((function(e){return e})).indexOf(Me),T-1);d(e)},color:"default",style:{width:"100%",height:"100%"},disableElevation:!0,variant:"contained",children:"Apply Sequence"})})]}),Object(B.jsx)(f.a,{container:!0,style:{display:"flex",paddingLeft:20,paddingRight:20,paddingBottom:5},children:Object(B.jsxs)(f.a,{container:!0,style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(B.jsxs)(f.a,{item:!0,xs:6,style:{display:"flex",flexDirection:"row"},children:[Object(B.jsx)(h.a,{style:{color:i.length>0?"#556ee6":"#9f9f9f",fontWeight:"bold"},variant:"caption",children:"Total Size: "}),Object(B.jsx)(h.a,{style:{color:i.length>0?"#556ee6":"#9f9f9f",paddingLeft:5},variant:"caption",children:function(){if(i.length>1){var e=i.map((function(e){return e.size})).reduce((function(e,t){return e+t}));return la(e)}return 1===i.length?la(i[0].size):"No Content"}()})]}),Object(B.jsxs)(f.a,{item:!0,xs:6,style:{display:"flex",flexDirection:"row"},children:[Object(B.jsx)(h.a,{style:{color:i.length>0?"#556ee6":"#9f9f9f",fontWeight:"bold"},variant:"caption",children:"Total Duration: "}),Object(B.jsx)(h.a,{style:{color:i.length>0?"#556ee6":"#9f9f9f",paddingLeft:5},variant:"caption",children:function(){if(i.length>1){var e=i.map((function(e){return e.duration})).reduce((function(e,t){return e+t}));return ra(e)}return 1===i.length?ra(i[0].duration):"No Content"}()})]})]})}),Object(B.jsx)(f.a,{container:!0,style:{opacity:i.length>0?1:.5,display:"flex",flexDirection:"column",paddingLeft:20,paddingRight:20,paddingBottom:10},children:Object(B.jsx)(h.a,{variant:"caption",children:"Drag the contents to change sequence"})}),Object(B.jsx)(f.a,{style:{opacity:i.length>0?1:.5,display:"flex",flexDirection:"column",justifyContent:"center",paddingBottom:20},children:Object(B.jsx)($.a,{children:Object(B.jsxs)(u.a,{className:t.table,"aria-label":"custom pagination table",children:[Object(B.jsx)(Ie,{classes:t,numSelected:Be.length,onSelectAllClick:function(e){if(e.target.checked){var t=i.map((function(e){return e}));Ne(t)}else Ne([])},rowCount:i.length,headCells:[{id:"no",numeric:!1,disablePadding:!1,label:"No."},{id:"status",numeric:!1,disablePadding:!1,label:"Stat"},{id:"thumbnail",numeric:!1,disablePadding:!1,label:""},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"selected",numeric:!0,disablePadding:!1,label:""}]}),Object(B.jsx)(b.a,{component:_e((function(e){if(e.destination){var t=Xt(i,e.source.index,e.destination.index);d(t),k(t.map((function(e){return e})).indexOf(Me)+1)}})),children:(W>0?i.slice(E*W,E*W+W):i).map((function(e,t){var a,n=(a=e,-1!==Be.indexOf(a)),l="enhanced-table-checkbox-".concat(t),r=null;return e.start_date&&e.end_date&&e.start_time&&e.end_time&&(r=!!function(e,t,a,n){if(e&&t&&a&&n){var i=new Date(new Date(e).getFullYear(),new Date(e).getMonth(),new Date(e).getDate()),l=new Date(new Date(t).getFullYear(),new Date(t).getMonth(),new Date(t).getDate()),r=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate());return i<=r&&l>=r||i>=r}return!0}(e.start_date,e.end_date,e.start_time,e.end_time)),Object(B.jsxs)(m.a,{hover:!0,component:ke(e.uid,t),role:"checkbox","aria-checked":n,tabIndex:-1,onClick:function(){return function(e){ze(e),k(i.map((function(e){return e})).indexOf(e)+1),y(i[i.map((function(e){return e})).indexOf(e)].duration)}(e)},selected:n,children:[Object(B.jsx)(j.a,{padding:"checkbox",children:Object(B.jsx)(ne.a,{onClick:function(t){return function(e,t){var a=Be.indexOf(t),n=[];-1===a?n=n.concat(Be,t):0===a?n=n.concat(Be.slice(1)):a===Be.length-1?n=n.concat(Be.slice(0,-1)):a>0&&(n=n.concat(Be.slice(0,a),Be.slice(a+1))),Ne(n)}(0,e)},checked:n,inputProps:{"aria-labelledby":l}})}),Object(B.jsx)(j.a,{style:{padding:3,width:10},align:"left",children:Object(B.jsx)(h.a,{variant:"body2",children:t+1+10*E+"."})}),Object(B.jsx)(j.a,{style:{padding:3,width:10},align:"left",children:null===r?Object(B.jsx)(Pe.a,{title:"No Schedule",children:Object(B.jsx)(Se.a,{style:{fontSize:12}})}):Object(B.jsx)(Pe.a,{title:!0===r?"Schedule Active":"Schedule Expired",children:Object(B.jsx)(Ce.a,{style:{fontSize:12,color:!0===r?"green":"red"}})})}),Object(B.jsx)(j.a,{style:{padding:3,width:50},align:"left",children:"image/jpeg"===e.type?Object(B.jsx)(re.a,{variant:"rounded",alt:e.name,src:e.url}):Object(B.jsx)(re.a,{variant:"rounded",children:Object(B.jsx)(le.a,{})})}),Object(B.jsx)(j.a,{style:{padding:3,overflow:"hidden",textOverflow:"ellipsis",maxWidth:150},align:"left",children:e.name}),Object(B.jsx)(j.a,{style:{padding:3,paddingRight:10,width:40},align:"right",children:Me&&e.uid===Me.uid?Object(B.jsx)(se.a,{color:"primary"}):""})]},l)}))}),Object(B.jsx)(ee.a,{children:Object(B.jsx)(m.a,{children:Object(B.jsx)(te.a,{labelRowsPerPage:"Pages",rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:6,count:i.length,rowsPerPage:W,page:E,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){A(t)},onChangeRowsPerPage:function(e){G(parseInt(e.target.value,10)),A(0)},ActionsComponent:ae.a})})})]})})})]}),Object(B.jsx)(f.a,{item:!0,lg:4,xs:12,style:{paddingLeft:20,paddingRight:20,paddingBottom:20},children:Me?Object(B.jsx)(f.a,{children:"image/jpeg"===Me.type?Object(B.jsx)("img",{style:{borderRadius:5},width:"100%",alt:Me.name,src:Me.url}):Object(B.jsx)(g.a,{controls:!0,style:{borderRadius:5},width:"100%",alt:Me.name,url:Me.url})}):Object(B.jsx)(f.a,{style:{backgroundColor:"#ebebeb",minHeight:200,borderRadius:5}})}),Object(B.jsxs)(f.a,{item:!0,lg:4,xs:12,children:[Object(B.jsx)(f.a,{style:{paddingLeft:20,paddingRight:20,paddingBottom:20},children:Object(B.jsxs)(f.a,{container:!0,spacing:2,children:[Object(B.jsx)(f.a,{item:!0,md:6,xs:4,children:Object(B.jsx)(c.a,{onClick:function(){Ze(!1),ot(!1),tt("Preview"),pt("playPreview"),lt(""),Qe(!1),Ve(!0)},color:"primary",style:{width:"100%"},startIcon:Object(B.jsx)(V.a,{}),disabled:!(i.length>0),disableElevation:!0,variant:"outlined",children:"Preview"})}),Object(B.jsx)(f.a,{item:!0,md:6,xs:4,children:Object(B.jsx)(c.a,{onClick:function(){return Ze(!1),ot(!0),tt("Save"),pt("saveStation"),Jt.length>0?lt("Are you sure want to save to these stations?"):lt("No stations added"),Qe(!1),void Ve(!0)},color:"primary",style:{width:"100%"},startIcon:Object(B.jsx)(H.a,{}),disabled:!(i.length>0),disableElevation:!0,variant:"outlined",children:"Save"})}),Object(B.jsx)(f.a,{item:!0,md:12,xs:4,children:Object(B.jsx)(c.a,{onClick:function(){return Ze(!1),ot(!0),tt("Publish"),pt("publishStation"),Jt.length>0?lt("Are you sure want to publish to these stations?"):lt("No stations added"),Qe(!1),void Ve(!0)},color:"primary",style:{width:"100%"},startIcon:Object(B.jsx)(Y.a,{}),disabled:!(i.length>0),disableElevation:!0,variant:"contained",children:"Publish"})})]})}),Object(B.jsx)(f.a,{container:!0,style:{display:"flex",paddingLeft:20,paddingRight:20,paddingBottom:20},children:Object(B.jsx)(x.a,{style:{width:"100%"},disabled:!(i.length>0),label:"Name",onChange:function(e){C(e.target.value)},value:w,variant:"outlined"})}),Object(B.jsx)(f.a,{style:{display:"flex",justifyContent:"center",paddingLeft:20,paddingRight:20,paddingBottom:20},children:Object(B.jsx)(c.a,{onClick:function(){return ta(!0)},color:"primary",style:{width:"100%"},disabled:!(i.length>0),startIcon:Object(B.jsx)(q.a,{}),disableElevation:!0,variant:"outlined",children:"Global Schedule"})}),Object(B.jsxs)(f.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",paddingLeft:20,paddingRight:20,paddingBottom:10},children:[Object(B.jsx)(h.a,{style:{color:i.length>0?"#556ee6":"#9f9f9f",fontWeight:"bold"},variant:"caption",children:"Global Schedule"}),Object(B.jsxs)(f.a,{children:[Object(B.jsx)(h.a,{style:{color:i.length>0?"#556ee6":"#9f9f9f",fontWeight:"bold"},variant:"caption",children:"Date: "}),Object(B.jsx)(h.a,{style:{color:i.length>0?"#556ee6":"#9f9f9f"},variant:"caption",children:Gt?"From "+new Intl.DateTimeFormat("en-GB",{year:"numeric",day:"2-digit",month:"long"}).format(new Date(Gt.startDate))+" to "+new Intl.DateTimeFormat("en-GB",{year:"numeric",day:"2-digit",month:"long"}).format(new Date(Gt.endDate)):"No schedule"})]}),Object(B.jsxs)(f.a,{children:[Object(B.jsx)(h.a,{style:{color:i.length>0?"#556ee6":"#9f9f9f",fontWeight:"bold"},variant:"caption",children:"Time: "}),Object(B.jsx)(h.a,{style:{color:i.length>0?"#556ee6":"#9f9f9f"},variant:"caption",children:Gt?"From "+new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"numeric"}).format(new Date(Gt.startTime))+" to "+new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"numeric"}).format(new Date(Gt.endTime)):"No schedule"})]})]}),Object(B.jsx)(f.a,{style:{opacity:i.length>0?1:.5,display:"flex",flexDirection:"column",justifyContent:"center",paddingBottom:20},children:Object(B.jsx)(f.a,{children:Object(B.jsx)(f.a,{container:!0,style:{paddingLeft:20,paddingRight:20,paddingBottom:10},children:Object(B.jsx)(f.a,{item:!0,xs:12,children:Object(B.jsx)(c.a,{onClick:function(){Ze(!1),ot(!1),tt("Select Sation"),pt("selectStation"),lt(""),Qe(!1),Ve(!0)},color:"primary",style:{width:"100%",height:"100%"},startIcon:Object(B.jsx)(_.a,{}),disableElevation:!0,variant:"contained",children:"Select Stations"})})})})}),Object(B.jsx)(f.a,{style:{padding:20,opacity:i.length>0?1:.5},children:Object(B.jsx)($.a,{children:Object(B.jsxs)(u.a,{className:t.table,"aria-label":"custom pagination table",children:[Object(B.jsx)(Ie,{disableCheckBox:!0,classes:t,numSelected:Be.length,rowCount:i.length,headCells:[{id:"no",numeric:!1,disablePadding:!1,label:"No."},{id:"name",numeric:!1,disablePadding:!1,label:"Station ID"},{id:"folder",numeric:!1,disablePadding:!1,label:"Group"}]}),Object(B.jsx)(b.a,{children:(je>0?Jt.slice(Q*je,Q*je+je):Jt).map((function(e,t){var a="enhanced-table-checkbox-".concat(t),n=zt.map((function(e){return e.id})).indexOf(e.folder);return Object(B.jsxs)(m.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(B.jsx)(j.a,{style:{padding:10,width:10},align:"left",children:Object(B.jsx)(h.a,{variant:"body2",children:t+1+10*Q+"."})}),Object(B.jsx)(j.a,{style:{padding:3,overflow:"hidden",textOverflow:"ellipsis",maxWidth:150},align:"left",children:e.name}),Object(B.jsx)(j.a,{style:{padding:3,overflow:"hidden",textOverflow:"ellipsis",maxWidth:150},align:"left",children:-1!==n?zt[n].name:null})]},a)}))}),Object(B.jsx)(ee.a,{children:Object(B.jsx)(m.a,{children:Object(B.jsx)(te.a,{labelRowsPerPage:"",rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:6,count:Jt.length,rowsPerPage:je,page:Q,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){ie(t)},onChangeRowsPerPage:function(e){he(parseInt(e.target.value,10)),ie(0)},ActionsComponent:ae.a})})})]})})})]})]})]})}var Me=a(190),ze=a(198),Ee=a(199),Ae=a(380),Be=a.n(Ae),Ne=a(381),Re=a.n(Ne),Le=["children","classes","onClose","data"],Ue=function(e){if(0===e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]},Ve=Object(d.a)((function(e){return{root:{backgroundColor:"#556ee6",display:"flex",width:"100%",justifyContent:"space-between"},closeButton:{color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,l=e.onClose,d=(e.data,Object(i.a)(e,Le));return Object(B.jsxs)(r.a.Fragment,{children:[Object(B.jsxs)(S.a,Object(n.a)(Object(n.a)({disableTypography:!0,className:a.root},d),{},{children:[Object(B.jsx)(h.a,{style:{color:"white",textAlign:"center",marginTop:5},variant:"h6",children:t}),l?Object(B.jsx)(O.a,{"aria-label":"close",className:a.closeButton,onClick:l,children:Object(B.jsx)(v.a,{style:{color:"white"}})}):null]})),Object(B.jsx)(w.a,{style:{opacity:.2}})]})}));function We(e){return Object(B.jsx)("div",{children:Object(B.jsxs)(o.a,{fullScreen:e.fullScreenDialog,open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(B.jsx)(Ve,{style:{minWidth:200},id:"customized-dialog-title",onClose:e.handleClose,data:e.data,children:e.title}),""!==e.description?Object(B.jsx)(h.a,{style:{padding:18},id:"alert-dialog-description",children:e.description}):null,"info"===e.option?Object(B.jsx)(u.a,{children:Object(B.jsx)(b.a,{children:e.displayInfo.map((function(t,a){var n="enhanced-table-cell-".concat(a);if("created"===t.id||"refreshed"===t.id||"signed_in"===t.id||"signed_out"===t.id)return Object(B.jsxs)(m.a,{children:[Object(B.jsx)(j.a,{component:"th",scope:"row",children:t.label}),e.selectedItem[t.id]?Object(B.jsx)(j.a,{component:"th",scope:"row",children:new Intl.DateTimeFormat("en-GB",{year:"numeric",day:"2-digit",month:"long",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}).format(e.selectedItem[t.id])}):Object(B.jsx)(j.a,{component:"th",scope:"row"})]},n);if("size"===t.id||"campaign_size"===t.id)return Object(B.jsxs)(m.a,{children:[Object(B.jsx)(j.a,{component:"th",scope:"row",children:t.label}),Object(B.jsx)(j.a,{component:"th",scope:"row",children:Ue(e.selectedItem[t.id])},n)]},n);if("in_use"===t.id){var i=[];return i=e.allCampaign.filter((function(t){return t.content&&-1!==t.content.map((function(e){return e.id})).indexOf(e.selectedItem.id)?t:void 0})),Object(B.jsxs)(m.a,{children:[Object(B.jsx)(j.a,{component:"th",scope:"row",children:t.label}),Object(B.jsx)(j.a,{component:"th",scope:"row",children:i.length>0?Object(B.jsx)(Pe.a,{title:Object(B.jsx)(f.a,{style:{display:"flex",flexDirection:"column"},children:i.map((function(e){return Object(B.jsx)(h.a,{variant:"caption",children:e.name},e.id)}))}),children:Object(B.jsx)(O.a,{children:Object(B.jsx)(Be.a,{color:"primary",fontSize:"small"})})}):Object(B.jsx)(O.a,{children:Object(B.jsx)(Re.a,{color:"error",fontSize:"small"})})},n)]},n)}if("campaign"===t.id)return Object(B.jsxs)(m.a,{children:[Object(B.jsx)(j.a,{component:"th",scope:"row",children:t.label}),Object(B.jsx)(j.a,{component:"th",scope:"row",children:e.selectedItem[t.id]?Object(B.jsx)(f.a,{style:{display:"flex",flexDirection:"column"},children:Object(B.jsx)(h.a,{variant:"body2",children:-1!==e.allCampaign.map((function(e){return e.id})).indexOf(e.selectedItem[t.id])?e.allCampaign[e.allCampaign.map((function(e){return e.id})).indexOf(e.selectedItem[t.id])].name:""},a)}):null},n)]},n);if("advertisement"===t.id)return Object(B.jsxs)(m.a,{children:[Object(B.jsx)(j.a,{component:"th",scope:"row",children:t.label}),Object(B.jsx)(j.a,{component:"th",scope:"row",children:e.selectedItem[t.id]?Object(B.jsx)(f.a,{style:{display:"flex",flexDirection:"column"},children:Object(B.jsx)(h.a,{variant:"body2",children:-1!==e.allAds.map((function(e){return e.id})).indexOf(e.selectedItem[t.id])?e.allAds[e.allAds.map((function(e){return e.id})).indexOf(e.selectedItem[t.id])].name:""},a)}):null},n)]},n);if("publish"===t.id)return Object(B.jsxs)(m.a,{children:[Object(B.jsx)(j.a,{component:"th",scope:"row",children:t.label}),Object(B.jsx)(j.a,{component:"th",scope:"row",children:e.selectedItem[t.id]?Object(B.jsx)(O.a,{children:Object(B.jsx)(Be.a,{color:"primary",fontSize:"small"})}):Object(B.jsx)(O.a,{children:Object(B.jsx)(Re.a,{color:"error",fontSize:"small"})})},n)]},n);if("campaign_status"===t.id)return Object(B.jsxs)(m.a,{children:[Object(B.jsx)(j.a,{component:"th",scope:"row",children:t.label}),Object(B.jsx)(j.a,{component:"th",scope:"row",children:null!=e.selectedItem[t.id]?Object(B.jsx)(O.a,{children:Object(B.jsx)(Ce.a,{style:{color:e.selectedItem[t.id]?"#6bce00":"#b4b4b4"},fontSize:"small"})}):Object(B.jsx)(O.a,{children:Object(B.jsx)(Se.a,{style:{color:"#b4b4b4"},fontSize:"small"})})},n)]},n);if("status"===t.id)return Object(B.jsxs)(m.a,{children:[Object(B.jsx)(j.a,{component:"th",scope:"row",children:t.label}),Object(B.jsx)(j.a,{component:"th",scope:"row",children:e.selectedItem[t.id]?Object(B.jsx)(Pe.a,{title:"Online",children:Object(B.jsx)(O.a,{children:Object(B.jsx)(Be.a,{color:"primary",fontSize:"small"})})}):Object(B.jsx)(Pe.a,{title:"Offline",children:Object(B.jsx)(O.a,{children:Object(B.jsx)(Re.a,{color:"error",fontSize:"small"})})})},n)]},n);if("is_playing"===t.id)return Object(B.jsxs)(m.a,{children:[Object(B.jsx)(j.a,{component:"th",scope:"row",children:t.label}),Object(B.jsx)(j.a,{component:"th",scope:"row",children:e.selectedItem[t.id]?Object(B.jsx)(Pe.a,{title:"Playing",children:Object(B.jsx)(O.a,{children:Object(B.jsx)(Be.a,{color:"primary",fontSize:"small"})})}):Object(B.jsx)(Pe.a,{title:"Stop",children:Object(B.jsx)(O.a,{children:Object(B.jsx)(Re.a,{color:"error",fontSize:"small"})})})},n)]},n);if("campaign_duration"===t.id)return Object(B.jsxs)(m.a,{children:[Object(B.jsx)(j.a,{component:"th",scope:"row",children:t.label}),Object(B.jsx)(j.a,{component:"th",scope:"row",children:e.selectedItem.content?e.secondsToHms(e.selectedItem[t.id]):null},n)]},n);if("folder"===t.id){var l=e.allFolder.map((function(e){return e.id})).indexOf(e.selectedItem.folder);return Object(B.jsxs)(m.a,{children:[Object(B.jsx)(j.a,{component:"th",scope:"row",children:t.label}),Object(B.jsx)(j.a,{component:"th",scope:"row",children:-1!==l?e.allFolder[l].name:null},n)]},n)}return Object(B.jsxs)(m.a,{children:[Object(B.jsx)(j.a,{component:"th",scope:"row",children:t.label}),Object(B.jsx)(j.a,{component:"th",scope:"row",children:Object(B.jsx)(f.a,{style:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:200},children:Object(B.jsx)(h.a,{variant:"body2",noWrap:!0,children:e.selectedItem[t.id]})})})]},n)}))})}):null,"preview"===e.option?"video/mp4"===e.selectedItem.type?Object(B.jsx)(f.a,{style:{backgroundColor:"black",padding:10,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(B.jsx)(g.a,{controls:!0,url:e.selectedItem.url})}):Object(B.jsx)(f.a,{style:{height:"100%",width:e.matches?450:300,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(B.jsx)("img",{style:{width:"100%",height:"100%",objectFit:"contain"},alt:e.selectedItem.name,src:e.selectedItem.url})},e.selectedItem.id):null,"campaign"!==e.data&&"edit"===e.option?"advertisement"===e.data?null:Object(B.jsx)(f.a,{container:!0,style:{paddingTop:10,paddingBottom:10,display:"flex",flexDirection:"row"},children:e.editCells.map((function(t,a){var n=6;return a===e.editCells.length-1&&(a+1)%2!==0&&(n=12),Object(B.jsx)(f.a,{xs:12,md:n,style:{padding:10,display:"flex",justifyContent:"center",alignItems:"center"},items:!0,children:Object(B.jsx)(x.a,{label:t.label,style:{width:"100%"},value:e.selectedItem[t.id],onChange:function(a){return e.onChangeHandle(a,t.id)},variant:"outlined"},"textfield-input-"+a)})}))}):null,"campaign"!==e.data&&"addItem"===e.option?"advertisement"===e.data?null:Object(B.jsx)(f.a,{container:!0,style:{paddingTop:10,paddingBottom:10,display:"flex",flexDirection:"row"},children:e.addCells?e.addCells.map((function(t,a){var n=6;return a===e.addCells.length-1&&(a+1)%2!==0&&(n=12),Object(B.jsx)(f.a,{xs:12,md:n,style:{padding:10,display:"flex",justifyContent:"center",alignItems:"center"},items:!0,children:Object(B.jsx)(x.a,{label:t.label,style:{width:"100%"},value:e.addItem[t.id],onChange:function(a){return e.onChangeAddItemHandle(a,t.id)},variant:"outlined"},"textfield-input-"+a)})})):null}):null,e.dialogLoading?Object(B.jsx)(f.a,{style:{padding:20,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(B.jsx)(Me.a,{disableShrink:!0,color:"primary"})}):null,e.dialogLoading||"move"!==e.option?null:e.folderData?Object(B.jsxs)(f.a,{children:[Object(B.jsx)(ze.a,{button:!0,style:{borderBottom:"1px solid rgba(0, 0, 0, 0.1)",borderTop:"1px solid rgba(0, 0, 0, 0.1)",width:"100%"},onClick:function(){return e.selectFolder(null)},children:Object(B.jsx)(h.a,{color:"primary",style:{fontWeight:"bold"},children:"Default"})},"ListItem-null"),e.folderData.sort((function(e,t){return e.name<t.name?-1:1})).map((function(t,a){return Object(B.jsx)(ze.a,{button:!0,style:{borderBottom:"1px solid rgba(0, 0, 0, 0.1)",width:"100%"},onClick:function(){return e.selectFolder(t)},children:Object(B.jsx)(Ee.a,{primary:t.name})},"ListItem-"+a)}))]}):null,e.dialogLoading||"moveAll"!==e.option?null:e.folderData?Object(B.jsxs)(f.a,{children:[Object(B.jsx)(ze.a,{button:!0,style:{borderBottom:"1px solid rgba(0, 0, 0, 0.1)",borderTop:"1px solid rgba(0, 0, 0, 0.1)",width:"100%"},onClick:function(){return e.selectFolderMoveAll(null)},children:Object(B.jsx)(h.a,{color:"primary",style:{fontWeight:"bold"},children:"Default"})},"ListItem-null"),e.folderData.sort((function(e,t){return e.name<t.name?-1:1})).map((function(t,a){return Object(B.jsx)(ze.a,{button:!0,style:{borderBottom:"1px solid rgba(0, 0, 0, 0.1)",width:"100%"},onClick:function(){return e.selectFolderMoveAll(t)},children:Object(B.jsx)(Ee.a,{primary:t.name})},"ListItem-"+a)}))]}):null,function(){if("openFolder"===e.option){if("content_folder"===e.data)return Object(B.jsx)(C.a,{folder:e.selectedItem?e.selectedItem.id:null});if("station_zone"===e.data)return Object(B.jsx)(D.a,{folder:e.selectedItem?e.selectedItem.id:null});if("campaign_folder"===e.data)return Object(B.jsx)(P.a,{folder:e.selectedItem?e.selectedItem.id:null});if("advertisement_folder"===e.data)return Object(B.jsx)(P.a,{ads:!0,folder:e.selectedItem?e.selectedItem.id:null});if("campaign"===e.data||"advertisement"===e.data){var t=e.allCampaign.filter((function(t){return t.advertisement&&t.advertisement===e.selectedItem.id?t:void 0}));return Object(B.jsx)(N,{selectedItem:e.selectedItem,allCampaign:t,selectedStations:e.selectedItem.station?e.selectedItem.station:[],listOnly:!0,ads:"advertisement"===e.data})}}}(),"campaign"!==e.data&&"advertisement"!==e.data||"addItem"!==e.option?null:Object(B.jsx)(Fe,Object(n.a)(Object(n.a)({},e),{},{folder:e.folder,handleClose:e.handleClose})),"campaign"!==e.data&&"advertisement"!==e.data||"edit"!==e.option?null:Object(B.jsx)(Fe,Object(n.a)(Object(n.a)({},e),{},{option:e.option,selectedItem:e.selectedItem,handleClose:e.handleClose})),e.component?e.component:null,("campaign"!==e.data&&"advertisement"!==e.data||"addItem"!==e.option)&&e.agreeButton?Object(B.jsxs)(s.a,{children:[Object(B.jsx)(c.a,{variant:"outlined",style:{fontSize:14,fontWeight:"bold"},onClick:e.handleClose,color:"primary",children:e.disagreeTxt}),Object(B.jsx)(c.a,{disableElevation:!0,variant:"contained",style:{fontSize:14,fontWeight:"bold"},onClick:e.handleAgree,color:"primary",autoFocus:!0,children:e.agreeTxt})]}):null]})})}},355:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(35),i=a(1),l=a.n(i),r=a(226),d=a(204),c=a(203),o=a(227),s=a.n(o),u=a(36),b=a(4);function j(e){var t=l.a.useState([]),a=Object(n.a)(t,2),o=a[0],j=a[1],m=l.a.useState([]),f=Object(n.a)(m,2),h=f[0],p=f[1],g=l.a.useState(""),x=Object(n.a)(g,2),O=x[0],y=x[1],v=l.a.useState([]),S=Object(n.a)(v,2),w=S[0],C=S[1],D=l.a.useState([]),P=Object(n.a)(D,2),I=P[0],T=P[1],k=l.a.useState([]),_=Object(n.a)(k,2),F=_[0],M=_[1],z=l.a.useState([]),E=Object(n.a)(z,2),A=E[0],B=E[1],N=l.a.useState([]),R=Object(n.a)(N,2),L=R[0],U=R[1],V=l.a.useState([]),W=Object(n.a)(V,2),H=W[0],G=W[1],Y=Object(d.a)((function(e){return e.breakpoints.up("sm")}));return Object(i.useEffect)((function(){j([{id:"name",numeric:!1,disablePadding:!1,label:"Station ID"},{id:"block",numeric:!1,disablePadding:!1,label:"Block"},{id:"address",numeric:!1,disablePadding:!1,label:"Address"},{id:"campaign",numeric:!0,disablePadding:!1,label:"Campaign"},{id:"advertisement",numeric:!0,disablePadding:!1,label:"Advertisement"},{id:"status",numeric:!0,disablePadding:!1,label:"Status"},{id:"is_playing",numeric:!0,disablePadding:!1,label:"Play"},{id:"folder",numeric:!0,disablePadding:!1,label:"Group"},{id:"refreshed",numeric:!0,disablePadding:!1,label:"Refreshed"}]),p([{id:"name",numeric:!1,disablePadding:!1,label:"Station ID"}]),C([{id:"id",label:"Station Code"},{id:"name",label:"Station ID"},{id:"status",label:"Status"}]),T([{id:"id",numeric:!1,disablePadding:!1,label:"Station Code"},{id:"name",numeric:!1,disablePadding:!1,label:"Station ID"},{id:"status",numeric:!0,disablePadding:!1,label:"Status"},{id:"is_playing",numeric:!0,disablePadding:!1,label:"Play"},{id:"zone",numeric:!0,disablePadding:!1,label:"Zone"},{id:"subzone",numeric:!0,disablePadding:!1,label:"Sub-Zone"},{id:"folder",numeric:!0,disablePadding:!1,label:"Group"},{id:"block",numeric:!1,disablePadding:!1,label:"Block"},{id:"lobby",numeric:!1,disablePadding:!1,label:"Lobby"},{id:"address",numeric:!1,disablePadding:!1,label:"Address"},{id:"postcode",numeric:!1,disablePadding:!1,label:"Postcode"},{id:"installed_date",numeric:!1,disablePadding:!1,label:"Installed Date"},{id:"campaign",numeric:!0,disablePadding:!1,label:"Campaign"},{id:"advertisement",numeric:!0,disablePadding:!1,label:"Advertisement"},{id:"created",numeric:!0,disablePadding:!1,label:"Created"},{id:"refreshed",numeric:!0,disablePadding:!1,label:"Refreshed"},{id:"sim_number",numeric:!0,disablePadding:!1,label:"SIM Serial Number"},{id:"screen_size",numeric:!0,disablePadding:!1,label:"Screen Size"},{id:"note",numeric:!1,disablePadding:!1,label:"Note"}]),M([{id:"id",numeric:!1,disablePadding:!1,label:"Station Code"},{id:"name",numeric:!1,disablePadding:!1,label:"Station ID"},{id:"status",numeric:!0,disablePadding:!1,label:"Status"},{id:"zone",numeric:!0,disablePadding:!1,label:"Zone"},{id:"subzone",numeric:!0,disablePadding:!1,label:"Sub-Zone"},{id:"folder",numeric:!0,disablePadding:!1,label:"Group"},{id:"block",numeric:!1,disablePadding:!1,label:"Block"},{id:"lobby",numeric:!1,disablePadding:!1,label:"Lobby"},{id:"address",numeric:!1,disablePadding:!1,label:"Address"},{id:"postcode",numeric:!1,disablePadding:!1,label:"Postcode"},{id:"installed_date",numeric:!1,disablePadding:!1,label:"Installed Date"},{id:"campaign",numeric:!0,disablePadding:!1,label:"Campaign"},{id:"advertisement",numeric:!0,disablePadding:!1,label:"Advertisement"},{id:"created",numeric:!0,disablePadding:!1,label:"Created"},{id:"refreshed",numeric:!0,disablePadding:!1,label:"Refreshed"},{id:"sim_number",numeric:!0,disablePadding:!1,label:"SIM Serial Number"},{id:"screen_size",numeric:!0,disablePadding:!1,label:"Screen Size"},{id:"note",numeric:!1,disablePadding:!1,label:"Note"}]),B([{id:"name",numeric:!1,disablePadding:!1,label:"Station ID"},{id:"zone",numeric:!0,disablePadding:!1,label:"Zone"},{id:"subzone",numeric:!0,disablePadding:!1,label:"Sub-Zone"},{id:"block",numeric:!1,disablePadding:!1,label:"Block"},{id:"lobby",numeric:!1,disablePadding:!1,label:"Lobby"},{id:"address",numeric:!1,disablePadding:!1,label:"Address"},{id:"postcode",numeric:!1,disablePadding:!1,label:"Postcode"},{id:"installed_date",numeric:!1,disablePadding:!1,label:"Installed Date"},{id:"sim_number",numeric:!0,disablePadding:!1,label:"SIM Serial Number"},{id:"screen_size",numeric:!0,disablePadding:!1,label:"Screen Size"},{id:"note",numeric:!1,disablePadding:!1,label:"Note"}]),U([{id:"name",label:"Station ID"},{id:"zone",label:"Zone"},{id:"subzone",label:"Sub-Zone"},{id:"block",label:"Block"},{id:"lobby",label:"Lobby"},{id:"address",label:"Address"},{id:"postcode",label:"Postcode"},{id:"installed_date",label:"Installed Date"},{id:"sim_number",label:"SIM Serial Number"},{id:"screen_size",label:"Screen Size"},{id:"note",label:"Note"}]),G({name:"",refreshed:u.a.database.ServerValue.TIMESTAMP,push:!1,status:!1,is_playing:!1,zone:"",subzone:"",block:"",lobby:"",address:"",postcode:"",installed_date:"",sim_number:"",screen_size:"",note:"",brightness:"0F",message:"push",volume:"0",app_download_path:""}),y("name")}),[]),Object(b.jsx)(c.a,{children:Object(b.jsx)(r.a,{disabledEdit:!1,disabledDelete:!1,control:!0,rowsPerPage:5,orderBy:"created",data:"station",addItemButton:!0,addItemText:"Add station",addItemIcon:Object(b.jsx)(s.a,{}),addCells:L,addCellsName:H,excelList:F,folder_data:"station_zone",folder:e.folder,displayInfo:I,matches:Y,editCells:A,downloadExcel:!0,headCells:Y?o:h,searchValue:O,searchCell:w})})}},357:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));a(1);var n=a(207),i=a(28),l=a(205),r=a(490),d=a.n(r),c=a(492),o=a.n(c),s=a(491),u=a.n(s),b=a(489),j=a.n(b),m=a(4),f=Object(n.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function h(e){var t=f(),a=Object(i.a)(),n=e.count,r=e.page,c=e.rowsPerPage,s=e.onChangePage;return Object(m.jsxs)("div",{className:t.root,children:[Object(m.jsx)(l.a,{onClick:function(e){s(e,0)},disabled:0===r,"aria-label":"first page",children:"rtl"===a.direction?Object(m.jsx)(j.a,{}):Object(m.jsx)(d.a,{})}),Object(m.jsx)(l.a,{onClick:function(e){s(e,r-1)},disabled:0===r,"aria-label":"previous page",children:"rtl"===a.direction?Object(m.jsx)(u.a,{}):Object(m.jsx)(o.a,{})}),Object(m.jsx)(l.a,{onClick:function(e){s(e,r+1)},disabled:r>=Math.ceil(n/c)-1,"aria-label":"next page",children:"rtl"===a.direction?Object(m.jsx)(o.a,{}):Object(m.jsx)(u.a,{})}),Object(m.jsx)(l.a,{onClick:function(e){s(e,Math.max(0,Math.ceil(n/c)-1))},disabled:r>=Math.ceil(n/c)-1,"aria-label":"last page",children:"rtl"===a.direction?Object(m.jsx)(d.a,{}):Object(m.jsx)(j.a,{})})]})}},372:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(35),i=a(1),l=a.n(i),r=a(203),d=a(4);function c(e){var t=l.a.useState(0),a=Object(n.a)(t,2),c=a[0],o=a[1],s=l.a.useRef(null);Object(i.useEffect)((function(){if(e.rows.length>1)if(e.withinDateTime(e.rows[c].start_date,e.rows[c].end_date,e.rows[c].start_time,e.rows[c].end_time)){if("image/jpeg"===e.rows[c].type){var t=setTimeout((function(){if(c===e.rows.length-1){o(0)}else{o(c+1)}}),1e3*e.rows[c].duration);return function(){return clearTimeout(t)}}s.current.play()}else if(c===e.rows.length-1){o(0)}else{o(c+1)}else"video/mp4"===e.rows[c].type&&s.current.play()}),[c,e]);var u=function(t){if(c===e.rows.length-1){o(0),1===e.rows.length&&"video/mp4"===e.rows[c].type&&s.current.play()}else{o(c+1)}};return Object(d.jsx)(r.a,{style:{width:270,height:480,display:"Flex",alignItems:"center"},children:e.rows.map((function(e,t){return"image/jpeg"===e.type?Object(d.jsx)("img",{style:{display:c===t?"flex":"none",position:"absolute"},width:"100%",alt:e.name,src:e.url},"img"+t):Object(d.jsx)("video",{ref:c===t?s:null,onEnded:u,style:{display:c===t?"flex":"none",position:"absolute"},width:"100%",alt:e.name,src:e.url},"video"+t)}))})}},447:function(e,t){},454:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(35),i=a(1),l=a.n(i),r=a(207),d=a(203),c=a(460),o=a(662),s=a.n(o),u=a(4),b=Object(r.a)({root:{display:"flex",justifyContent:"center",width:"100%"}});function j(e){var t=b(),a=l.a.useState(""),i=Object(n.a)(a,2),r=i[0],o=i[1],j=l.a.useState(""),m=Object(n.a)(j,2),f=m[0],h=m[1],p=l.a.useState(""),g=Object(n.a)(p,2),x=g[0],O=g[1],y=l.a.useState(""),v=Object(n.a)(y,2),S=v[0],w=v[1],C=l.a.useState(!0),D=Object(n.a)(C,2),P=D[0],I=(D[1],l.a.useState(!0)),T=Object(n.a)(I,2),k=T[0],_=(T[1],l.a.useState(!0)),F=Object(n.a)(_,2),M=F[0],z=(F[1],l.a.useState(!0)),E=Object(n.a)(z,2),A=E[0];E[1];return Object(u.jsx)("div",{className:t.root,children:Object(u.jsx)(d.a,{style:{padding:20},children:Object(u.jsxs)(d.a,{style:{maxWidth:500,width:"100%",marginTop:15},children:[Object(u.jsxs)(d.a,{container:!0,spacing:2,children:[Object(u.jsx)(d.a,{md:6,item:!0,xs:12,children:Object(u.jsx)(c.a,{error:!P,autoFocus:!0,id:"name",value:r,onChange:function(e){o(e.target.value)},label:"First Name",variant:"outlined",fullWidth:!0,helperText:k?"":"Incorrect First Name."})}),Object(u.jsx)(d.a,{md:6,item:!0,xs:12,children:Object(u.jsx)(c.a,{error:!k,id:"last_name",variant:"outlined",value:f,onChange:function(e){h(e.target.value)},label:"Last Name",fullWidth:!0,helperText:k?"":"Incorrect Last Name."})})]}),Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(s.a,{autoFormat:!1,error:!M,style:{width:"100%",marginTop:15},defaultCountry:"sg",regions:"asia",value:x,onChange:function(e){O(e)}})}),Object(u.jsx)(d.a,{container:!0,style:{marginTop:15},spacing:2,children:Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(c.a,{error:!A,id:"email",variant:"outlined",value:S,onChange:function(e){w(e.target.value)},label:"Email Address",type:"email",fullWidth:!0,helperText:A?"":"Incorrect email."})})}),Object(u.jsx)(d.a,{container:!0,style:{marginTop:15},spacing:2,children:Object(u.jsx)(d.a,{item:!0,xs:12,children:Object(u.jsx)(c.a,{id:"comments",variant:"outlined",label:"Comments",fullWidth:!0,multiline:!0,rows:4})})})]})})})}},459:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));var n=a(35),i=a(1),l=a.n(i),r=a(226),d=a(23),c=a(203),o=a(691),s=a(168),u=a(46),b=a(727),j=a(661),m=a.n(j),f=a(36),h=a(4),p={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:1,borderRadius:2,borderColor:"#d8d8d8",borderStyle:"dashed",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},g={borderColor:"#2196f3"},x={borderColor:"#00e676"},O={borderColor:"#ff1744"},y={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},v={display:"inline-flex",borderRadius:2,border:"1px solid #d8d8d8",marginBottom:8,marginRight:8,width:70,height:70,padding:4,boxSizing:"border-box"},S={display:"block",width:"auto",height:"100%"},w=0,C=!1,D=!1;function P(e){var t=l.a.useState([]),a=Object(n.a)(t,2),r=a[0],j=a[1],P=l.a.useState(!1),I=Object(n.a)(P,2),T=I[0],k=I[1],_=l.a.useState("Upload one or more files now"),F=Object(n.a)(_,2),M=F[0],z=F[1],E=l.a.useState(!0),A=Object(n.a)(E,2),B=A[0],N=A[1],R=l.a.useState(f.a.storage().ref(e.data)),L=Object(n.a)(R,1)[0],U=l.a.useState(f.a.database().ref().child(e.data)),V=Object(n.a)(U,1)[0],W=Object(o.a)({accept:"image/jpeg, video/mp4",onDrop:function(e){j(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),H=W.acceptedFiles,G=W.getRootProps,Y=W.getInputProps,Z=W.isDragActive,q=W.isDragAccept,J=W.isDragReject;Object(i.useEffect)((function(){return function(){C=!0}}),[]);var K=r.map((function(e,t){return"video/mp4"===e.type?Object(h.jsxs)(c.a,{style:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(c.a,{style:{overflow:"hidden",textOverflow:"ellipsis",width:70,marginBottom:10},children:Object(h.jsx)(u.a,{variant:"caption",noWrap:!0,children:e.name})}),Object(h.jsx)(c.a,{style:v,children:Object(h.jsx)(c.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:Object(h.jsx)(m.a,{color:"primary",style:{fontSize:36}})})},e.name)]},e.name+t):Object(h.jsxs)(c.a,{style:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(c.a,{style:{overflow:"hidden",textOverflow:"ellipsis",width:70,marginBottom:10},children:Object(h.jsx)(u.a,{variant:"caption",noWrap:!0,children:e.name})}),Object(h.jsx)(c.a,{style:v,children:Object(h.jsx)(c.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",overflow:"hidden"},children:Object(h.jsx)("img",{src:e.preview,style:S,alt:e.name})})},e.name)]},e.name+t)})),Q=Object(i.useMemo)((function(){return Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},p),Z?g:{}),q?x:{}),J?O:{})}),[Z,J,q]),X=function(){!1===C?(w++,$()):D=!1},$=function(){if(Array.from(H).length===w)D=!1,H.length=0,j([]),k(!1),z("Upload completed"),N(!0);else{D=!0;var t=Array.from(H)[w].name;L.child((new Date).getTime()+"_"+Array.from(H)[w].name).put(H[w]).then((function(a){!function(t,a){L.child(t.name).getDownloadURL().then((function(n){if("video/mp4"===t.contentType){var i=new Audio(n);i.onloadedmetadata=function(){if(i.duration){var l=V.push().key,r={id:l,name:a,file_name:t.name,url:n,size:t.size,created:f.a.database.ServerValue.TIMESTAMP,type:t.contentType,full_path:t.fullPath,user:f.a.auth().currentUser.uid,duration:i.duration,folder:e.folder?e.folder:null};e.folder&&f.a.database().ref("content_folder/"+e.folder).update({updated:f.a.database.ServerValue.TIMESTAMP});var d={};d[l]=r,V.update(d).then((function(){f.a.database().ref("log_content").push({user:f.a.auth().currentUser.email,item:r,status:"uploaded",updated:f.a.database.ServerValue.TIMESTAMP}),X()}))}}}else{var l=V.push().key,r={id:l,name:a,file_name:t.name,url:n,size:t.size,created:f.a.database.ServerValue.TIMESTAMP,type:t.contentType,full_path:t.fullPath,user:f.a.auth().currentUser.uid,folder:e.folder?e.folder:null};e.folder&&f.a.database().ref("content_folder/"+e.folder).update({updated:f.a.database.ServerValue.TIMESTAMP});var d={};d[l]=r,V.update(d).then((function(){f.a.database().ref("log_content").push({user:f.a.auth().currentUser.email,item:r,status:"uploaded",updated:f.a.database.ServerValue.TIMESTAMP}),X()}))}}))}(a.metadata,t)})).catch((function(e){console.log(e.message)}))}};return Object(h.jsxs)(c.a,{style:{padding:20},children:[Object(h.jsxs)(c.a,{children:[T?null:Object(h.jsxs)(c.a,Object(d.a)(Object(d.a)({},G({style:Q})),{},{children:[Object(h.jsx)("input",Object(d.a)({},Y())),Object(h.jsx)(u.a,{variant:"body2",children:"Drag 'n' drop some files here"}),Object(h.jsx)(u.a,{variant:"body2",children:"or click to select files"})]})),Object(h.jsx)("aside",{style:y,children:K})]}),Object(h.jsxs)(c.a,{style:{paddingBottom:20},children:[Object(h.jsx)(u.a,{color:"initial",variant:"caption",children:"Image/Jpeg/jpg - Size below 1MB"}),Object(h.jsx)("br",{}),Object(h.jsx)(u.a,{color:"initial",variant:"caption",children:"Video/Mp4 - Size below 20MB"})]}),T?Object(h.jsx)(b.a,{}):Object(h.jsxs)(c.a,{children:[Object(h.jsx)(s.a,{disabled:!(H.length>0),onClick:function(){H.length=0,j([])},variant:"outlined",color:"primary",children:"Clear"}),Object(h.jsx)(s.a,{disabled:!(H.length>0),disableElevation:!0,onClick:function(){D?alert("Files uploading, please wait for a while..."):(C=!1,w=0,k(!0),$())},variant:"contained",color:"primary",style:{marginLeft:10},children:"Upload"}),Object(h.jsx)(u.a,{color:B?"initial":"error",variant:"caption",style:{marginLeft:20},children:M})]})]})}var I=a(204);function T(e){var t=l.a.useState([]),a=Object(n.a)(t,2),d=a[0],o=a[1],s=l.a.useState([]),u=Object(n.a)(s,2),b=u[0],j=u[1],m=l.a.useState(""),f=Object(n.a)(m,2),p=f[0],g=f[1],x=l.a.useState([]),O=Object(n.a)(x,2),y=O[0],v=O[1],S=l.a.useState([]),w=Object(n.a)(S,2),C=w[0],D=w[1],T=l.a.useState([]),k=Object(n.a)(T,2),_=k[0],F=k[1],M=l.a.useState([]),z=Object(n.a)(M,2),E=z[0],A=z[1],B=Object(I.a)((function(e){return e.breakpoints.up("sm")}));return Object(i.useEffect)((function(){o([{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"size",numeric:!0,disablePadding:!1,label:"Size"},{id:"created",numeric:!0,disablePadding:!1,label:"Created"},{id:"type",numeric:!0,disablePadding:!1,label:"Type"},{id:"in_use",numeric:!0,disablePadding:!1,label:"In Use"}]),j([{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"size",numeric:!0,disablePadding:!1,label:"Size"}]),v([{id:"id",label:"Id"},{id:"name",label:"Name"}]),D([{id:"id",numeric:!1,disablePadding:!1,label:"Id"},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"size",numeric:!0,disablePadding:!1,label:"Size"},{id:"created",numeric:!0,disablePadding:!1,label:"Created"},{id:"type",numeric:!0,disablePadding:!1,label:"Type"},{id:"in_use",numeric:!0,disablePadding:!1,label:"In Use"}]),A([{id:"id",numeric:!1,disablePadding:!1,label:"Id"},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"folder",numeric:!1,disablePadding:!1,label:"Folder"},{id:"size",numeric:!0,disablePadding:!1,label:"Size"},{id:"created",numeric:!0,disablePadding:!1,label:"Created"},{id:"type",numeric:!0,disablePadding:!1,label:"Type"},{id:"in_use",numeric:!0,disablePadding:!1,label:"In Use"}]),F([{id:"name",numeric:!1,disablePadding:!1,label:"Name"}]),g("name")}),[]),Object(h.jsxs)(c.a,{children:[Object(h.jsx)(P,{data:"content",folder:e.folder}),Object(h.jsx)(r.a,{control:!0,excelList:E,downloadExcel:!1,rowsPerPage:5,orderBy:"created",data:"content",folder_data:"content_folder",folder:e.folder,displayInfo:C,matches:B,editCells:_,headCells:B?d:b,searchValue:p,searchCell:y})]})}},564:function(e,t){},566:function(e,t){},577:function(e,t){},579:function(e,t){},606:function(e,t){},608:function(e,t){},609:function(e,t){},614:function(e,t){},616:function(e,t){},635:function(e,t){},647:function(e,t){},650:function(e,t){},655:function(e,t){},656:function(e,t){}}]);
//# sourceMappingURL=2.07f4f9df.chunk.js.map